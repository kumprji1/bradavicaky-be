{"version":3,"sources":["hooks/auth-hook.js","contexts/AuthContext.js","shared/components/Spinner/Spinner.js","shared/components/Error/ErrorBackdrop.js","shared/components/Error/ErrorModal.js","hooks/http-hook.js","utils/roles.js","Auth/SigninPage.js","Auth/SignupAdminPage.js","Admin/pages/SignupPupilPage.js","Admin/pages/PupilsPage.js","Admin/pages/AddProductPage.js","Admin/pages/EditProductPage.js","Pupil/components/AvaibleProducts/AvaibleProduct.js","Pupil/components/AvaibleProducts/AvaibleProducts.js","Pupil/pages/Market_PupilView.js","Admin/pages/Market_AdminView.js","Pupil/components/UndeliveredProducts/UndeliveredProduct.js","Pupil/components/UndeliveredProducts/UndeliveredProducts.js","Pupil/components/DeliveredProducts/DeliveredProduct.js","Pupil/components/DeliveredProducts/DeliveredProducts.js","Pupil/pages/HomePupilsPage.js","Admin/pages/OrdersToDeliverPage.js","Admin/pages/Events_AdminView.js","Admin/pages/AddEventPage.js","Pupil/pages/Events_PupilView.js","Admin/pages/QuestionsPage_AdminView.js","Admin/pages/AddQuestionPage.js","Admin/components/CreateAnswer.js","Admin/components/Answers_AdminView.js","Admin/pages/EditQuestionPage.js","shared/pages/QuestionPage.js","Pupil/pages/TryLuckPage.js","shared/components/Navbar/NavBackdrop.js","shared/components/Navbar/Navbar.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["logoutTimer","AuthContext","createContext","userId","username","name","surname","role","token","login","logout","Spinner","class","ErrorBackdrop","props","ReactDOM","createPortal","className","onClick","document","getElementById","ErrorModal","content","Fragment","onClear","contentClass","error","footerClass","footer","useHttp","useState","isLoading","setIsLoading","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","msg","console","log","message","useEffect","forEach","abortCtrl","abort","clearError","Role","SigninPage","auth","useContext","history","useHistory","postLoginHandler","values","process","JSON","stringify","password","_id","initialValues","onSubmit","type","placeholder","SignupAdminPage","postRegisterHandler","rePassword","SignupPupilPage","responseMsg","setResponseMsg","Authorization","setTimeout","college","as","value","PupilsPage","loadedPupils","setLoadedPupils","fetchPupils","pupils","addPointsHandler","pupilsId","points","map","p","removePointsHandler","pupil","AddProductPage","postAddProduct","title","photo","desc","price","quantity","EditProductPage","formInitialValues","product","setProduct","productId","useParams","idProduktu","fetchProduct","postEditProduct","AvaibleProduct","buyProductHandler","src","alt","disabled","notEnoughMoney","toString","AvaibleProducts","products","loadedProducts","setLoadedProducts","fetchProducts","Market_PupilView","setPoints","fetchPupilsPoints","Market_AdminView","disableProduct","id","prods","isHidden","to","UndeliveredProduct","Math","random","UndeliveredProducts","o","DeliveredProduct","DeliveredProducts","HomePupilsPage","OrdersToDeliverPage","loadedOrders","setLoadedOrders","fetchOrders","orders","patchDeliverOrder","orderId","order","pupilId","dayjs","orderedAt","format","Events_AdminView","loadedEvents","setloadedEvents","fetchEvents","events","deleteEventHandler","e","event","date","description","registerLocale","cs","AddEventPage","setTitle","setDescription","Date","setDate","postAddEvent","preventDefault","onChange","target","selected","locale","Events_PupilView","QuestionsPage_AdminView","loadedQuestions","setLoadedQuestions","fetchQuestions","questions","question","text","AddQuestionPage","setText","addQuestionHandler","CreateAnswer","questionId","addAnswerLocal","deleteAnswerLocal","postCreateAnswerHandler","answer","Answers_AdminView","loadedAnswers","setLoadedAnswers","fetchAnswers","answers","deleteAnswerHandler","deletedId","state","updatedState","EditQuestionPage","idOtazky","loadedQuestion","setLoadedQuestion","fetchQuestionData","postEditQuestionText","QuestionPage","loadedVotes","setLoadedVotes","canVote","setCanVote","fetchQuestion","fetchVotes","v","length","postVote","answerId","an","TryLuckPage","canRoll","setCanRoll","reward","setReward","fetchLastRoll","postRoll","NavBackdrop","Navbar","show","setShow","adminLinks","pupilsLinks","App","setUserId","setUsername","setName","setSurname","setRole","setToken","tokenExpirationDate","setTokenExpirationDate","expirationDate","getTime","localStorage","setItem","expiration","toISOString","removeItem","remainingTime","clearTimeout","storedData","parse","getItem","useAuth","Provider","path","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","URL","href","origin","addEventListener","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.9d055520.chunk.js","sourcesContent":["import { useState, useCallback, useEffect } from \"react\";\n\nlet logoutTimer;\n\nexport const useAuth = () => {\n  const [userId, setUserId] = useState();\n  const [username, setUsername] = useState();\n  const [name, setName] = useState();\n  const [surname, setSurname] = useState();\n  const [role, setRole] = useState();\n  const [token, setToken] = useState();\n  const [tokenExpirationDate, setTokenExpirationDate] = useState();\n\n  const login = useCallback(\n    (userId, username, name, surname, role, token, expirationDate) => {\n      setUserId(userId);\n      setUsername(username);\n      setName(name);\n      setSurname(surname);\n      setRole(role);\n      setToken(token);\n      const tokenExpirationDate =\n        expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60 * 10);\n      setTokenExpirationDate(tokenExpirationDate);\n      localStorage.setItem(\n        \"userData\",\n        JSON.stringify({\n          userId: userId,\n          username: username,\n          name: name,\n          surname: surname,\n          role: role,\n          token: token,\n          expiration: tokenExpirationDate.toISOString(),\n        })\n      );\n    },\n    []\n  );\n\n  const logout = useCallback(() => {\n    setUserId(null);\n    setUsername(null);\n    setName(null);\n    setSurname(null);\n    setRole(null);\n    setToken(null);\n    setTokenExpirationDate(null);\n\n    localStorage.removeItem(\"userData\");\n  }, []);\n\n  useEffect(() => {\n    if (token && tokenExpirationDate) {\n      const remainingTime =\n        tokenExpirationDate.getTime() - new Date().getTime();\n      logoutTimer = setTimeout(logout, remainingTime);\n    } else {\n      clearTimeout(logoutTimer);\n    }\n  }, [token, logout, tokenExpirationDate]);\n\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem(\"userData\"));\n    if (\n      storedData &&\n      storedData.token &&\n      new Date(storedData.expiration) > new Date()\n    ) {\n      login(\n        storedData.userId,\n        storedData.username,\n        storedData.name,\n        storedData.surname,\n        storedData.role,\n        storedData.token,\n        new Date(storedData.expiration)\n      );\n    }\n  }, [login]);\n\n  return { userId, username, name, surname, role, token, login, logout };\n};\n","import { createContext } from 'react'\r\n\r\nexport const AuthContext = createContext({\r\n    userId: null,\r\n    username: null,\r\n    name: null,\r\n    surname: null,\r\n    role: null,\r\n    token: null,\r\n    login: () => {},\r\n    logout: () => {}\r\n})","import React from \"react\";\r\n\r\nimport './Spinner.css'\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div class=\"lds-default\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst ErrorBackdrop = props => {\r\n  return ReactDOM.createPortal(\r\n    <div className=\"error-backdrop\" onClick={props.onClick}></div>,\r\n    document.getElementById('error-backdrop')\r\n  );\r\n};\r\n\r\nexport default ErrorBackdrop;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport ErrorBackdrop from \"./ErrorBackdrop.js\";\r\nimport \"./ErrorModal.css\";\r\n\r\nconst ErrorModal = (props) => {\r\n  const content = (\r\n    <React.Fragment>\r\n      <ErrorBackdrop onClick={props.onClear} />\r\n        <div className={`error-modal`}>\r\n          <header className={`error-modal__header`}>\r\n            <h2>Švihnout a mávnout!</h2>\r\n          </header>\r\n          <div className={`error-modal__content ${props.contentClass}`}>\r\n            {props.error}\r\n          </div>\r\n          <button className=\"error-modal__button-ok\" onClick={props.onClear}>\r\n            Zavřít\r\n          </button>\r\n          <footer className={`error-modal__footer ${props.footerClass}`}>\r\n            {props.footer}\r\n          </footer>\r\n        </div>\r\n    </React.Fragment>\r\n  );\r\n  return ReactDOM.createPortal(content, document.getElementById(\"error-modal\"));\r\n};\r\n\r\nexport default ErrorModal;\r\n","import { useState, useCallback, useRef, useEffect } from 'react';\r\n\r\nexport const useHttp = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  const activeHttpRequests = useRef([]);\r\n\r\n  const sendRequest = useCallback(\r\n    async (url, method = 'GET', body = null, headers = {}) => {\r\n      setIsLoading(true);\r\n      const httpAbortCtrl = new AbortController();\r\n      activeHttpRequests.current.push(httpAbortCtrl);\r\n\r\n      try {\r\n        const response = await fetch(url, {\r\n          method,\r\n          body,\r\n          headers,\r\n          signal: httpAbortCtrl.signal\r\n        });\r\n        const responseData = await response.json();\r\n\r\n        activeHttpRequests.current = activeHttpRequests.current.filter(\r\n          reqCtrl => reqCtrl !== httpAbortCtrl\r\n        );\r\n\r\n        if (!response.ok) {\r\n          throw new Error(responseData.msg);\r\n        }\r\n\r\n        setIsLoading(false);\r\n        return responseData;\r\n      } catch (err) {\r\n        console.log(err)\r\n        setError(err.message);\r\n        setIsLoading(false);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\r\n    };\r\n  }, []);\r\n\r\n  return {isLoading, error, sendRequest, clearError};\r\n};\r\n","export const Role = {\r\n    ADMIN: 'admin',\r\n    PUPIL: 'pupil'\r\n}","import React, { useContext } from \"react\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Spinner from \"../shared/components/Spinner/Spinner\";\r\nimport ErrorModal from \"../shared/components/Error/ErrorModal\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../hooks/http-hook\";\r\n\r\n// Contexts\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\n\r\n// Utils\r\nimport { Role } from \"../utils/roles\";\r\n\r\nimport \"./SigninPage.css\";\r\n\r\nconst SigninPage = () => {\r\n  const auth = useContext(AuthContext);\r\n  const { sendRequest, isLoading, error, clearError } = useHttp();\r\n  const history = useHistory();\r\n\r\n  const formInitialValues = {\r\n    username: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  const postLoginHandler = async (values) => {\r\n    let responseData;\r\n    try {\r\n      // Retrieving user data\r\n      responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/auth/login`,\r\n        \"POST\",\r\n        JSON.stringify({\r\n          username: values.username,\r\n          password: values.password,\r\n        }),\r\n        {\r\n          \"Content-type\": \"application/json\",\r\n        }\r\n      );\r\n    } catch (err) {}\r\n\r\n    // Login in client\r\n    auth.login(\r\n      responseData._id,\r\n      responseData.username,\r\n      responseData.name,\r\n      responseData.surname,\r\n      responseData.role,\r\n      responseData.token\r\n    );\r\n\r\n    // Redirect for pupil and teacher(admin)\r\n    if (responseData.role === Role.PUPIL) history.push(\"/odmeny\");\r\n    else history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"form--wrapper column\">\r\n      <Formik initialValues={formInitialValues} onSubmit={postLoginHandler}>\r\n        <Form className=\"custom_form\">\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"username\"\r\n            type=\"text\"\r\n            placeholder=\"Uživatelské jméno\"\r\n          />\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Heslo\"\r\n          />\r\n          <button className=\"button-submit\" type=\"submit\">\r\n            Alohomora\r\n          </button>\r\n        </Form>\r\n      </Formik>\r\n      {error && <ErrorModal error={error} onClear={clearError} />}\r\n      <div className=\"spinner--wrapper\"> {isLoading && <Spinner />}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SigninPage;\r\n","import React from \"react\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport ErrorModal from \"../shared/components/Error/ErrorModal\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../hooks/http-hook\";\r\n\r\nconst SignupAdminPage = () => {\r\n  const history = useHistory();\r\n  const { sendRequest, error, clearError } = useHttp();\r\n\r\n  const formInitialValues = {\r\n    username: \"\",\r\n    name: \"\",\r\n    surname: \"\",\r\n    password: \"\",\r\n    rePassword: \"\",\r\n  };\r\n  const postRegisterHandler = async (values) => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/auth/register-admin`,\r\n        \"POST\",\r\n        JSON.stringify(values),\r\n        {\r\n          \"content-type\": \"application/json\",\r\n        }\r\n      );\r\n      history.push(\"/prihlaseni\");\r\n    } catch (error) {}\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p>Registrace admina</p>\r\n      <Formik initialValues={formInitialValues} onSubmit={postRegisterHandler}>\r\n        <Form>\r\n          <Field name=\"username\" type=\"text\" placeholder=\"Uživatelské jméno\" />\r\n          <Field name=\"name\" type=\"text\" placeholder=\"Jméno\" />\r\n          <Field name=\"surname\" type=\"text\" placeholder=\"Příjmení\" />\r\n          <Field name=\"password\" type=\"password\" placeholder=\"Heslo\" />\r\n          <Field name=\"rePassword\" type=\"password\" placeholder=\" Heslo znovu\" />\r\n          <button type=\"submit\">Registrace</button>\r\n        </Form>\r\n      </Formik>\r\n      {error && <ErrorModal error={error} onClear={clearError} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupAdminPage;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Formik, Form, Field } from \"formik\";\r\n\r\nimport ErrorModal from \"../../shared/components/Error/ErrorModal\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\n\r\nimport { AuthContext } from '../../contexts/AuthContext'\r\n\r\nconst SignupPupilPage = () => {\r\n  const auth = useContext(AuthContext);\r\n  const history = useHistory();\r\n  const [responseMsg, setResponseMsg] = useState('');\r\n  const { sendRequest, error, clearError } = useHttp();\r\n\r\n  const formInitialValues = {\r\n    username: \"\",\r\n    name: \"\",\r\n    surname: \"\",\r\n    password: \"\",\r\n    rePassword: \"\",\r\n    college: \"nebelvir\",\r\n  };\r\n  const postRegisterHandler = async (values) => {\r\n    try {\r\n      const response = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/admin/register-pupil`,\r\n        \"POST\",\r\n        JSON.stringify(values),\r\n        {\r\n          \"content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n        setResponseMsg(response.msg)\r\n        setTimeout(() => history.push('/'), 1200)\r\n    } catch (err) {}\r\n  };\r\n  return (\r\n    <div className=\"form--wrapper\">\r\n      <Formik initialValues={formInitialValues} onSubmit={postRegisterHandler}>\r\n        <Form className=\"custom_form\">\r\n          <Field type=\"hidden\" />\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"username\"\r\n            type=\"text\"\r\n            placeholder=\"Uživatelské jméno\"\r\n          />\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"name\"\r\n            type=\"text\"\r\n            placeholder=\"Jméno\"\r\n          />\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"surname\"\r\n            type=\"text\"\r\n            placeholder=\"Příjmení\"\r\n          />\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Heslo\"\r\n          />\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"rePassword\"\r\n            type=\"password\"\r\n            placeholder=\" Heslo znovu\"\r\n          />\r\n          <Field as=\"select\" name=\"college\">\r\n            <option value=\"nebelvír\">Nebelvír</option>\r\n            <option value=\"mrzimor\">Mrzimor</option>\r\n            <option value=\"havraspár\">Havraspár</option>\r\n            <option value=\"zmijozel\">Zmijozel</option>\r\n          </Field>\r\n          <button className=\"button-submit\" type=\"submit\">\r\n            Registrace\r\n          </button>\r\n          <p className=\"responseMsg\">{responseMsg}</p>\r\n        </Form>\r\n      </Formik>\r\n      {error && <ErrorModal error={error} onClear={clearError}/>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupPupilPage;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\nimport \"./PupilsPage.css\";\r\n\r\nconst PupilsPage = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [loadedPupils, setLoadedPupils] = useState([]);\r\n  const { sendRequest } = useHttp();\r\n\r\n  useEffect(() => {\r\n    const fetchPupils = async () => {\r\n      try {\r\n        let pupils = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/admin/pupils`,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        setLoadedPupils(pupils);\r\n      } catch (err) {}\r\n    };\r\n    fetchPupils();\r\n    console.log(\"fetchPupils()\");\r\n  }, []);\r\n\r\n  const addPointsHandler = async (pupilsId, points) => {\r\n    const response = await sendRequest(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/admin/add-points`,\r\n      \"PATCH\",\r\n      JSON.stringify({\r\n        pupilsId,\r\n        points,\r\n      }),\r\n      {\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: \"Bearer \" + auth.token,\r\n      }\r\n    );\r\n    if (response.msg === \"success\") {\r\n      setLoadedPupils((pupils) =>\r\n        pupils.map((p) => {\r\n          if (p._id === pupilsId) p.points = response.points;\r\n          return p;\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const removePointsHandler = async (pupilsId, points) => {\r\n    const response = await sendRequest(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/admin/remove-points`,\r\n      \"PATCH\",\r\n      JSON.stringify({\r\n        pupilsId,\r\n        points,\r\n      }),\r\n      {\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: \"Bearer \" + auth.token,\r\n      }\r\n    );\r\n    if (response.msg === \"success\") {\r\n      setLoadedPupils((pupils) =>\r\n        pupils.map((p) => {\r\n          if (p._id === pupilsId) p.points = response.points;\r\n          return p;\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const pupilsJSX = (pupils) => {\r\n    console.log(pupils);\r\n    return pupils.map((pupil) => (\r\n      <li key={pupil._id} className=\"pupils_page--pupil\">\r\n        <span className=\"pupils_page--pupil__name\">\r\n          {pupil.name} {pupil.surname}\r\n        </span>\r\n        <div className=\"pupils_page--pupil--points_wrapper\">\r\n          <button\r\n            onClick={() => removePointsHandler(pupil._id, 5)}\r\n            className=\"pupils_page--pupil__minus--button\"\r\n          >\r\n            -\r\n          </button>\r\n          <span className=\"pupils_page--pupil__points\">{pupil.points}</span>\r\n          <button\r\n            onClick={() => addPointsHandler(pupil._id, 5)}\r\n            className=\"pupils_page--pupil__plus--button\"\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n      </li>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"pupils_page--wrapper\">\r\n      <h1 className=\"pupils_page--title\">Čarodějové</h1>\r\n      <ul className=\"pupils_page--pupils\">\r\n        {loadedPupils && pupilsJSX(loadedPupils)}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PupilsPage;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport ErrorModal from \"../../shared/components/Error/ErrorModal\";\r\n\r\n// Hooks\r\nimport { useHttp } from '../../hooks/http-hook'\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\nimport \"./AddProductPage.css\";\r\n\r\nconst AddProductPage = () => {\r\n  const auth = useContext(AuthContext);\r\n    const { sendRequest, error, clearError } = useHttp()\r\n    const history = useHistory();\r\n\r\n  const formInitialValues = {\r\n    title: \"\",\r\n    photo: \"\",\r\n    desc: \"\",\r\n    price: \"\",\r\n    quantity: \"\",\r\n  };\r\n\r\n  const postAddProduct = async (values) => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/admin/add-product`,\r\n        \"POST\",\r\n        JSON.stringify(values),\r\n        {\r\n          \"content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      history.push('/obchod')\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"add_product--wrapper\">\r\n      <h1 className=\"add_product--title\">Přidání produktu</h1>\r\n      <Formik initialValues={formInitialValues} onSubmit={postAddProduct}>\r\n        <Form className=\"custom_form\">\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"title\"\r\n            type=\"text\"\r\n            placeholder=\"Název\"\r\n          />\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"photo\"\r\n            type=\"text\"\r\n            placeholder=\"Foto\"\r\n          />\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"desc\"\r\n            type=\"text\"\r\n            placeholder=\"Popis\"\r\n          />\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"price\"\r\n            type=\"text\"\r\n            placeholder=\"Cena\"\r\n          />\r\n          <Field\r\n            className=\"text-input\"\r\n            name=\"quantity\"\r\n            type=\"text\"\r\n            placeholder=\"Počet\"\r\n          />\r\n          <button className=\"button-submit\" type=\"submit\">\r\n            Přidat\r\n          </button>\r\n        </Form>\r\n      </Formik>\r\n      {error && <ErrorModal error={error} onClear={clearError} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProductPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport ErrorModal from \"../../shared/components/Error/ErrorModal\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\n\r\nimport \"./AddProductPage.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\nconst EditProductPage = () => {\r\n  const auth = useContext(AuthContext);\r\n\r\n  const { sendRequest, error, clearError } = useHttp();\r\n  const history = useHistory();\r\n\r\n  const [product, setProduct] = useState();\r\n\r\n  const productId = useParams().idProduktu;\r\n\r\n  let formInitialValues;\r\n  if (product) {\r\n    formInitialValues = {\r\n      title: product.title,\r\n      photo: product.photo,\r\n      desc: product.desc,\r\n      price: product.price,\r\n      quantity: product.quantity,\r\n    };\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/admin/product/${productId}`,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        setProduct(responseData);\r\n      } catch (err) {}\r\n    };\r\n    fetchProduct();\r\n  }, [sendRequest, productId]);\r\n\r\n  const postEditProduct = async (values) => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/admin/edit-product/${productId}`,\r\n        \"PATCH\",\r\n        JSON.stringify(values),\r\n        {\r\n          \"content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      history.push(\"/obchod\");\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"add_product--wrapper\">\r\n      <h1 className=\"add_product--title\">Přidání produktu</h1>\r\n      {formInitialValues && (\r\n        <Formik initialValues={formInitialValues} onSubmit={postEditProduct}>\r\n          <Form className=\"custom_form\">\r\n            <Field\r\n              className=\"text-input\"\r\n              name=\"title\"\r\n              type=\"text\"\r\n              placeholder=\"Název\"\r\n            />\r\n            <Field\r\n              className=\"text-input\"\r\n              name=\"photo\"\r\n              type=\"text\"\r\n              placeholder=\"Foto\"\r\n            />\r\n            <Field\r\n              className=\"text-input\"\r\n              name=\"desc\"\r\n              type=\"text\"\r\n              placeholder=\"Popis\"\r\n            />\r\n            <Field\r\n              className=\"text-input\"\r\n              name=\"price\"\r\n              type=\"text\"\r\n              placeholder=\"Cena\"\r\n            />\r\n            <Field\r\n              className=\"text-input\"\r\n              name=\"quantity\"\r\n              type=\"text\"\r\n              placeholder=\"Počet\"\r\n            />\r\n            <button className=\"button-submit\" type=\"submit\">\r\n              Uložit\r\n            </button>\r\n          </Form>\r\n        </Formik>\r\n      )}\r\n      {error && <ErrorModal error={error} onClear={clearError} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProductPage;\r\n","import React, { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../../hooks/http-hook\";\r\n\r\n// Contexts\r\nimport { AuthContext } from \"../../../contexts/AuthContext\";\r\n\r\nimport \"./AvaibleProduct.css\";\r\n\r\nconst AvaibleProduct = (props) => {\r\n  const { sendRequest } = useHttp();\r\n  const auth = useContext(AuthContext)\r\n  const history = useHistory()\r\n\r\n  const buyProductHandler = async (productId) => {\r\n    console.log('Posíláám')\r\n    const responseData = await sendRequest(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/pupil/buy-product/${productId}`,\r\n      \"POST\",\r\n      null,\r\n      { \"Content-type\": \"application/json\",\r\n        Authorization: 'Bearer ' + auth.token }\r\n    );\r\n    console.log('Vráátit na homepage')\r\n      history.push('/')\r\n  };\r\n\r\n  return (\r\n    <li key={props._id} className=\"product--wrapper\">\r\n      <div className=\"product--title\">{props.title}</div>\r\n      <div className=\"product_img--wrapper\">\r\n        <img src={props.photo} alt={props.title} />\r\n      </div>\r\n      <div className=\"product--quantity\">\r\n        Ve sklepení: <span className=\"bold\">{props.quantity}</span> ks\r\n      </div>\r\n      <div className=\"product--price\">\r\n        Cena: <span className=\"bold\">{props.price}</span>\r\n      </div>\r\n      <div className=\"product_buy--wrapper\">\r\n        <button className=\"button-submit\" disabled={props.notEnoughMoney} onClick={() => buyProductHandler(props._id.toString())}>\r\n          Akcio!\r\n        </button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default AvaibleProduct;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\n// Components\r\nimport AvaibleProduct from \"./AvaibleProduct\";\r\n\r\nimport { useHttp } from \"../../../hooks/http-hook\";\r\n\r\nimport \"./AvaibleProducts.css\";\r\nimport { AuthContext } from \"../../../contexts/AuthContext\";\r\n\r\nconst AvaibleProducts = (props) => {\r\n  const auth = useContext(AuthContext)\r\n  const { sendRequest } = useHttp();\r\n\r\n  const [loadedProducts, setLoadedProducts] = useState([]);\r\n\r\n  const productsJSX = (products) => {\r\n    return products.map((product) => (\r\n      <AvaibleProduct\r\n        key={product._id}\r\n        _id={product._id}\r\n        title={product.title}\r\n        photo={product.photo}\r\n        quantity={product.quantity}\r\n        price={product.price}\r\n        notEnoughMoney={props.points < product.price}\r\n      />\r\n    ));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/pupil/avaible-products`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setLoadedProducts(responseData);\r\n    };\r\n\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <ul className=\"products_page--pupils\">\r\n      {loadedProducts && productsJSX(loadedProducts)}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default AvaibleProducts;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\n// Components\r\nimport AvaibleProducts from \"../components/AvaibleProducts/AvaibleProducts\";\r\n\r\n// Contexts\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\n\r\nimport \"./Market_PupilView.css\";\r\n\r\nconst Market_PupilView = () => {\r\n\r\n  const auth = useContext(AuthContext);\r\n  const { sendRequest } = useHttp();\r\n\r\n  // Loaded points of pupil by username\r\n  const [points, setPoints] = useState(0)\r\n\r\n  useEffect(() => {\r\n    const fetchPupilsPoints = async () => {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/pupil/points/${auth.username}`,\r\n        'GET',\r\n        null,\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setPoints(responseData.points)\r\n    };\r\n    fetchPupilsPoints()\r\n  }, [auth.username]);\r\n\r\n  return (\r\n    <div className=\"custom-page--wrapper\">\r\n      <h1 className=\"custom-page--title\">Dostupné odměny</h1>\r\n      <p className=\"pupils_market--points\">Máte {points} bradavičáků</p>\r\n      <AvaibleProducts points={points}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Market_PupilView;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\n\r\n// Contexts\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\nimport \"./Market_AdminView.css\";\r\n\r\nconst Market_AdminView = () => {\r\n  const { sendRequest } = useHttp();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [loadedProducts, setLoadedProducts] = useState([]);\r\n\r\n  const disableProduct = async (id) => {\r\n    await sendRequest(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/admin/disable-product/${id}`,\r\n      \"PATCH\",\r\n      null,\r\n      {\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: \"Bearer \" + auth.token,\r\n      }\r\n    );\r\n    setLoadedProducts(prods => prods.filter(p => p._id !== id));\r\n  }\r\n\r\n  const productsJSX = (products) => {\r\n    return products.map((product) => (\r\n      <li key={product._id} className=\"product--wrapper\">\r\n        <div className=\"product--title\">{product.title}</div>\r\n        <div className=\"product_img--wrapper\">\r\n          <img src={product.photo} alt={product.title} />\r\n        </div>\r\n        <div className=\"product--quantity\">\r\n          Ve sklepení: <span className=\"bold\">{product.quantity}</span> ks\r\n        </div>\r\n        <div className=\"product--price\">\r\n          Cena: <span className=\"bold\">{product.price}</span>\r\n        </div>\r\n        <div className=\"product_buttons--wrapper\">\r\n          <Link to={`/editovat-produkt/${product._id}`} className=\"small-button button-edit\"> Upravit</Link>\r\n          <button onClick={() => disableProduct(product._id)} className=\"small-button button-delete\"> Odstranit</button>\r\n        </div>\r\n      </li>\r\n    ));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/admin/products`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setLoadedProducts(responseData.filter(p => !p.isHidden));\r\n    };\r\n\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"custom-page--wrapper\">\r\n      <h1 className=\"custom-page--title\">Obchod</h1>\r\n      <Link to=\"pridat-produkt\" className=\"custom-page--create_link\">Přidat produkt</Link>\r\n      <ul className=\"products_page--pupils\">\r\n        {loadedProducts && productsJSX(loadedProducts)}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Market_AdminView;\r\n","import React, { useContext } from \"react\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../../hooks/http-hook\";\r\n\r\n// Contexts\r\nimport { AuthContext } from \"../../../contexts/AuthContext\";\r\n\r\nconst UndeliveredProduct = (props) => {\r\n  const { sendRequest } = useHttp();\r\n  const auth = useContext(AuthContext)\r\n  const refundProductHandler = async (productId) => {\r\n    // const responseData = await sendRequest(\r\n    //   `${process.env.REACT_APP_BACKEND_URL}/api/pupil/refund-product/${productId}`,\r\n    //   \"POST\",\r\n    //   null,\r\n    //   { \"Content-type\": \"application/json\",\r\n    //     Authorization: 'Bearer ' + auth.token }\r\n    // );\r\n  };\r\n\r\n  return (\r\n    <li key={props._id + Math.random()} className=\"product--wrapper\">\r\n      <div className=\"product--title\">{props.title}</div>\r\n      <div className=\"product_img--wrapper\">\r\n        <img src={props.photo} alt={props.title} />\r\n      </div>\r\n      <div className=\"product_buy--wrapper\">\r\n        {/* <button className=\"button-submit\" disabled={false} onClick={() => refundProductHandler(props._id.toString())}>\r\n          Vrátit \r\n        </button> */}\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default UndeliveredProduct;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\n// Components\r\nimport UndeliveredProduct from \"./UndeliveredProduct\";\r\nimport Spinner from \"../../../shared/components/Spinner/Spinner\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../../hooks/http-hook\";\r\n\r\n// Contexts\r\nimport { AuthContext } from \"../../../contexts/AuthContext\";\r\n\r\nconst UndeliveredProducts = () => {\r\n  const auth = useContext(AuthContext);\r\n  const { sendRequest, isLoading } = useHttp();\r\n\r\n  const [loadedProducts, setLoadedProducts] = useState([]);\r\n\r\n  const productsJSX = (products) => {\r\n    return products.map((product) => (\r\n      <UndeliveredProduct\r\n        key={product._id + Math.random()}\r\n        _id={product._id}\r\n        title={product.title}\r\n        photo={product.photo}\r\n        quantity={product.quantity}\r\n        price={product.price}\r\n      />\r\n    ));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!auth.token) return\r\n    const fetchProducts = async () => {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/pupil/undelivered-orders/${auth.userId}`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      // Setting only product info from orders\r\n      setLoadedProducts(responseData.map(o => o.productId));\r\n    };\r\n\r\n    fetchProducts();\r\n  }, [auth.userId, auth.token]);\r\n\r\n  return (\r\n    <ul className=\"products_page--pupils row\">\r\n      {loadedProducts && productsJSX(loadedProducts)}\r\n      {isLoading && <Spinner />}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default UndeliveredProducts;\r\n","import React, { useContext } from \"react\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../../hooks/http-hook\";\r\n\r\n// Contexts\r\nimport { AuthContext } from \"../../../contexts/AuthContext\";\r\n\r\nconst DeliveredProduct = (props) => {\r\n  const { sendRequest } = useHttp();\r\n  const auth = useContext(AuthContext)\r\n  const refundProductHandler = async (productId) => {\r\n    // const responseData = await sendRequest(\r\n    //   `${process.env.REACT_APP_BACKEND_URL}/api/pupil/refund-product/${productId}`,\r\n    //   \"POST\",\r\n    //   null,\r\n    //   { \"Content-type\": \"application/json\",\r\n    //     Authorization: 'Bearer ' + auth.token }\r\n    // );\r\n  };\r\n\r\n  return (\r\n    <li key={props._id + Math.random()} className=\"product--wrapper\">\r\n      <div className=\"product--title\">{props.title}</div>\r\n      <div className=\"product_img--wrapper\">\r\n        <img src={props.photo} alt={props.title} />\r\n      </div>\r\n      <div className=\"product_buy--wrapper\">\r\n        {/* <button className=\"button-submit\" disabled={false} onClick={() => refundProductHandler(props._id.toString())}>\r\n          Vrátit \r\n        </button> */}\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default DeliveredProduct;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\n// Components\r\nimport DeliveredProduct from \"./DeliveredProduct\";\r\nimport Spinner from \"../../../shared/components/Spinner/Spinner\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../../hooks/http-hook\";\r\n\r\n// Contexts\r\nimport { AuthContext } from \"../../../contexts/AuthContext\";\r\n\r\nconst DeliveredProducts = () => {\r\n  const auth = useContext(AuthContext);\r\n  const { sendRequest, isLoading } = useHttp();\r\n\r\n  const [loadedProducts, setLoadedProducts] = useState([]);\r\n\r\n  const productsJSX = (products) => {\r\n    return products.map((product) => (\r\n      <DeliveredProduct\r\n        key={product._id + Math.random()}\r\n        _id={product._id}\r\n        title={product.title}\r\n        photo={product.photo}\r\n        quantity={product.quantity}\r\n        price={product.price}\r\n      />\r\n    ));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!auth.token) return\r\n    const fetchProducts = async () => {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/pupil/delivered-orders/${auth.userId}`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setLoadedProducts(responseData.map(o => o.productId));\r\n    };\r\n\r\n    fetchProducts();\r\n  }, [auth.userId, auth.token]);\r\n\r\n  return (\r\n    <ul className=\"products_page--pupils row\">\r\n      {loadedProducts && productsJSX(loadedProducts)}\r\n      {isLoading && <Spinner />}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default DeliveredProducts;\r\n","import React from 'react'\r\n\r\n// Components\r\nimport UndeliveredProducts from '../components/UndeliveredProducts/UndeliveredProducts'\r\nimport DeliveredProducts from '../components/DeliveredProducts/DeliveredProducts'\r\nimport Spinner from '../../shared/components/Spinner/Spinner'\r\n\r\nconst HomePupilsPage = () => {\r\n    return (\r\n        <div className=\"custom-page--wrapper\">\r\n        <h1 className=\"custom-page--title\">Čekáš sovu s:</h1>\r\n        <UndeliveredProducts />\r\n        <h1 className=\"custom-page--title\">Sova doručila:</h1>\r\n        <DeliveredProducts />\r\n      </div>\r\n  \r\n    )\r\n}\r\n\r\nexport default HomePupilsPage\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport dayjs from \"dayjs\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\n\r\n// Contexts\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\nimport \"./OrdersToDeliverPage.css\";\r\n\r\nconst OrdersToDeliverPage = () => {\r\n  const { sendRequest } = useHttp();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [loadedOrders, setLoadedOrders] = useState([]);\r\n\r\n  const ordersJSX = (orders) => {\r\n    return orders.map((order) => (\r\n      <li key={order._id} className=\"order--wrapper\">\r\n        <div className=\"order_pupils-info--wrapper\">\r\n          <div className=\"order--pupils_name\">\r\n            {order.pupilId.name} {order.pupilId.surname}\r\n          </div>\r\n          <p className=\"order--pupils_username\">({order.pupilId.username})</p>\r\n          <p>\r\n            <i>objednal/a:</i>\r\n          </p>\r\n          <p>\r\n            <i>{dayjs(order.orderedAt).format(\"DD. MM. YYYY\")}</i>\r\n          </p>\r\n        </div>\r\n        <div className=\"order_product-info--wrapper\">\r\n          <p className=\"order_product--name\">{order.productId.title}</p>\r\n          <div className=\"order_img--wrapper\">\r\n            <img src={order.productId.photo} alt={order.productId.title} />\r\n          </div>\r\n        </div>\r\n        <div className=\"order_buttons--wrapper\">\r\n          <button\r\n            className=\"button-submit\"\r\n            onClick={() => patchDeliverOrder(order._id)}\r\n          >\r\n            {\" \"}\r\n            Porvrdit doručení\r\n          </button>\r\n        </div>\r\n      </li>\r\n    ));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchOrders = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/admin/undelivered-orders`,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        setLoadedOrders(responseData);\r\n      } catch (err) {}\r\n    };\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  const patchDeliverOrder = async (orderId) => {\r\n    try {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/admin/deliver-order/${orderId}`,\r\n        \"PATCH\",\r\n        null,\r\n        {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setLoadedOrders(orders => orders.filter(o => o._id !== orderId))\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"custom-page--wrapper\">\r\n      <h1 className=\"custom-page--title\">Objednávky</h1>\r\n      <ul className=\"orders_page--pupils\">\r\n        {loadedOrders && ordersJSX(loadedOrders)}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrdersToDeliverPage;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport dayjs from \"dayjs\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\nimport \"./Events_AdminView.css\";\r\n\r\nconst Events_AdminView = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [loadedEvents, setloadedEvents] = useState([]);\r\n  const { sendRequest } = useHttp();\r\n\r\n  useEffect(() => {\r\n    const fetchEvents = async () => {\r\n      try {\r\n        let events = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/events`,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        setloadedEvents(events);\r\n      } catch (err) {}\r\n    };\r\n    fetchEvents();\r\n  }, []);\r\n\r\n  const deleteEventHandler = async (id) => {\r\n    try {\r\n      const response = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/admin/event/${id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          \"content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n    } catch (err) {}\r\n    setloadedEvents(loadedEvents.filter((e) => e._id !== id));\r\n  };\r\n\r\n  const eventsJSX = (events) => {\r\n    console.log(events);\r\n    return events.map((event) => (\r\n      <li key={event._id} className=\"events_page--event column\">\r\n        <div className=\"events_page--event_upper-wrapper column\">\r\n          <div className=\"events_page--event__title\">{event.title}</div>\r\n          <div className=\"events_page--event__date\">\r\n            <i>{dayjs(event.date).format(\"DD. MM. YYYY\")}</i>\r\n          </div>\r\n        </div>\r\n        <div className=\"events_page--event__desc\">{event.description}</div>\r\n        <div className=\"events_page--event__buttons\">\r\n          {/* <button className=\"small-button button-edit\">\r\n                Upravit\r\n            </button> */}\r\n          <button\r\n            className=\"small-button button-delete\"\r\n            onClick={() => deleteEventHandler(event._id)}\r\n          >\r\n            Odstranit\r\n          </button>\r\n        </div>\r\n      </li>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"custom-page--wrapper\">\r\n      <h1 className=\"custom-page--title\">Události</h1>\r\n      <Link className=\"custom-page--create_link\" to=\"/pridat-udalost\">\r\n        Přidat událost\r\n      </Link>\r\n      <ul className=\"custom-page--events\">\r\n        {loadedEvents && eventsJSX(loadedEvents)}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Events_AdminView;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n// DatePicker\r\nimport DatePicker, { registerLocale, setDefaultLocale } from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport cs from \"date-fns/locale/cs\";\r\n\r\nimport ErrorModal from \"../../shared/components/Error/ErrorModal\";\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\n\r\nimport \"./AddProductPage.css\";\r\n\r\nregisterLocale(\"cs\", cs);\r\n\r\nconst AddEventPage = () => {\r\n  const auth = useContext(AuthContext);\r\n\r\n  const { sendRequest, error, clearError } = useHttp();\r\n  const history = useHistory();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [date, setDate] = useState(new Date());\r\n\r\n  const postAddEvent = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/admin/add-event`,\r\n        \"POST\",\r\n        JSON.stringify({\r\n          title: title,\r\n          description: description,\r\n          date: date,\r\n        }),\r\n        {\r\n          \"content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      history.push(\"/udalosti\");\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"add_product--wrapper\">\r\n      <h1 className=\"add_product--title\">Přidání události</h1>\r\n      <form className=\"column\" onSubmit={postAddEvent}>\r\n        <input\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          className=\"text-input\"\r\n          name=\"title\"\r\n          type=\"text\"\r\n          placeholder=\"Název\"\r\n        />\r\n        <input\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n          className=\"text-input\"\r\n          name=\"description\"\r\n          type=\"text\"\r\n          placeholder=\"Popis\"\r\n        />\r\n        <DatePicker\r\n          className=\"datePicker\"\r\n          selected={date}\r\n          onChange={(date) => setDate(date)}\r\n          locale=\"cs\"\r\n        />\r\n        <button className=\"button-submit\" type=\"submit\">\r\n          Odeslat\r\n        </button>\r\n      </form>\r\n      {error && <ErrorModal error={error} onClear={clearError} />}\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default AddEventPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport dayjs from \"dayjs\";\r\n\r\n// Hooks\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\n// import \"./Events_AdminView.css\";\r\n\r\nconst Events_PupilView = () => {\r\n  const auth = useContext(AuthContext)\r\n  const [loadedEvents, setloadedEvents] = useState([]);\r\n  const { sendRequest } = useHttp();\r\n\r\n  useEffect(() => {\r\n    const fetchEvents = async () => {\r\n      try {\r\n        let events = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/events`,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        setloadedEvents(events);\r\n      } catch (err) {}\r\n    };\r\n    fetchEvents();\r\n  }, []);\r\n\r\n  const eventsJSX = (events) => {\r\n    console.log(events);\r\n    return events.map((event) => (\r\n      <li key={event._id} className=\"events_page--event column\">\r\n        <div className=\"events_page--event_upper-wrapper column\">\r\n          <div className=\"events_page--event__title\">{event.title}</div>\r\n          <div className=\"events_page--event__date\">\r\n            <i>{dayjs(event.date).format(\"DD. MM. YYYY\")}</i>\r\n          </div>\r\n        </div>\r\n        <div className=\"events_page--event__desc\">{event.description}</div>\r\n      </li>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"custom-page--wrapper\">\r\n      <h1 className=\"custom-page--title\">Události</h1>\r\n      <ul className=\"custom-page--events\">\r\n        {loadedEvents && eventsJSX(loadedEvents)}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Events_PupilView;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\n\r\nimport { Role } from '../../utils/roles'\r\n\r\nimport \"./Questions_AdminView.css\";\r\n\r\nconst QuestionsPage_AdminView = () => {\r\n  const { sendRequest } = useHttp();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [loadedQuestions, setLoadedQuestions] = useState();\r\n\r\n  useEffect(() => {\r\n    const fetchQuestions = async () => {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/questions`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setLoadedQuestions(responseData);\r\n    };\r\n\r\n    fetchQuestions();\r\n  }, [auth.token]);\r\n\r\n  const questionsJSX = (questions) => {\r\n    return questions.map((question) => (\r\n      <div className=\"questions_page--question column\">\r\n        <Link className=\"question__link\" to={`/otazka/${question._id}`} key={question._id}>\r\n          <div className=\"row\">\r\n            <div className=\"questions_page--question__text\">\r\n              {question.text}\r\n            </div>\r\n          </div>\r\n        </Link>\r\n        {auth.role === Role.ADMIN && <Link className=\"small-button button-edit\" to={`/editovat-otazku/${question._id}`} >Upravit</Link>}\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"custom-page--wrapper\">\r\n      <h1 className=\"custom-page--title\">Otázky</h1>\r\n      {auth.role === Role.ADMIN && <Link className=\"custom-page--create_link\" to=\"/pridat-otazku\">\r\n        Přidat otázku\r\n      </Link>}\r\n      {loadedQuestions && questionsJSX(loadedQuestions)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuestionsPage_AdminView;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport ErrorModal from \"../../shared/components/Error/ErrorModal\";\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\n\r\nconst AddQuestionPage = () => {\r\n  const auth = useContext(AuthContext);\r\n  const { sendRequest, error, clearError } = useHttp();\r\n  const history = useHistory();\r\n\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const addQuestionHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/admin/add-question`,\r\n        \"POST\",\r\n        JSON.stringify({\r\n          text: text,\r\n        }),\r\n        {\r\n          \"content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      history.push(\"/editovat-otazku/\" + response.question._id);\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"add_product--wrapper\">\r\n      <h1 className=\"add_product--title\">Položení otázky</h1>\r\n      <form className=\"column\" onSubmit={addQuestionHandler}>\r\n        <input\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n          className=\"text-input\"\r\n          name=\"text\"\r\n          type=\"text\"\r\n          placeholder=\"Otázka\"\r\n        />\r\n        <button className=\"button-submit\" type=\"submit\">\r\n          Odeslat\r\n        </button>\r\n      </form>\r\n      {error && <ErrorModal error={error} onClear={clearError} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddQuestionPage;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/components/Error/ErrorModal\";\r\n\r\nconst CreateAnswer = ({ questionId, addAnswerLocal, deleteAnswerLocal }) => {\r\n  const { sendRequest, error, clearError } = useHttp();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const postCreateAnswerHandler = async () => {\r\n    try {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/admin/create-answer`,\r\n        \"POST\",\r\n        JSON.stringify({\r\n          questionId: questionId,\r\n          text: text,\r\n        }),\r\n        {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setText(\"\");\r\n      addAnswerLocal(responseData.answer);\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={(e) => e.preventDefault()} className=\"column\">\r\n        <input\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n          className=\"text-input\"\r\n          name=\"text\"\r\n          type=\"text\"\r\n          placeholder=\"Odpověď\"\r\n        />\r\n        <button\r\n          className=\"small-button button-save\"\r\n          type=\"submit\"\r\n          onClick={postCreateAnswerHandler}\r\n        >\r\n          Uložit odpověď\r\n        </button>\r\n      </form>\r\n      {error && <ErrorModal error={error} onClear={clearError} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateAnswer;\r\n","import React, { Fragment, useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\nimport CreateAnswer from \"./CreateAnswer\";\r\n\r\nconst Answers_AdminView = ({ questionId }) => {\r\n  const { sendRequest } = useHttp();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [loadedAnswers, setLoadedAnswers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchAnswers = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/answers-of-question/${questionId}`,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        setLoadedAnswers(responseData);\r\n      } catch (err) {}\r\n    };\r\n\r\n    fetchAnswers();\r\n  }, [auth.token, questionId]);\r\n\r\n  const addAnswerToLocalState = (answer) => {\r\n    setLoadedAnswers((state) => {\r\n      const updatedState = [...state];\r\n      updatedState.push(answer);\r\n      return updatedState;\r\n    });\r\n  };\r\n\r\n  const deleteAnswerHandler = async (deletedId) => {\r\n    try {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/admin/answer/${deletedId}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n    } catch (error) {}\r\n    setLoadedAnswers((state) => state.filter((a) => a._id !== deletedId));\r\n  };\r\n\r\n  const answersJSX = (answers) => {\r\n    return answers.map((answer) => (\r\n      <div className=\"questions_page--question column\">\r\n        <div className=\"question__link\" key={answer._id}>\r\n          <div className=\"row\">\r\n            <div className=\"questions_page--question__text\">{answer.text}</div>\r\n            <button\r\n              className=\"small-button button-delete\"\r\n              onClick={() => deleteAnswerHandler(answer._id)}\r\n            >\r\n              Odebrat\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"column\">\r\n      <h2 className=\"edit-page--answers_title\">Odpovědi na otázku</h2>\r\n      {loadedAnswers && answersJSX(loadedAnswers)}\r\n      <h3 className=\"edit-page--answers_title\" type=\"submit\">\r\n        Nová odpověď\r\n      </h3>\r\n      <CreateAnswer\r\n        questionId={questionId}\r\n        addAnswerLocal={addAnswerToLocalState}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Answers_AdminView;\r\n","import React, { useState, useContext, useEffect, Fragment } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/components/Error/ErrorModal\";\r\nimport Answers_AdminView from \"../components/Answers_AdminView\";\r\n\r\nconst EditQuestionPage = () => {\r\n  const questionId = useParams().idOtazky;\r\n\r\n  const { sendRequest, error, clearError } = useHttp();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [loadedQuestion, setLoadedQuestion] = useState();\r\n\r\n  useEffect(() => {\r\n    const fetchQuestionData = async () => {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/question/${questionId}`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setLoadedQuestion(responseData);\r\n    };\r\n\r\n    fetchQuestionData();\r\n  }, [auth.token]);\r\n\r\n  const postEditQuestionText = async () => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/admin/edit-question/${questionId}`,\r\n        \"PATCH\",\r\n        JSON.stringify({\r\n          text: loadedQuestion.text,\r\n        }),\r\n        {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n    } catch (err) {}\r\n  };\r\n  return (\r\n    <div className=\"add_product--wrapper\">\r\n      <h1 className=\"add_product--title\">Editace otázky</h1>\r\n      {loadedQuestion && (\r\n        <Fragment>\r\n          <form\r\n            className=\"column\"\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <input\r\n              value={loadedQuestion.text}\r\n              onChange={(e) =>\r\n                setLoadedQuestion({ ...loadedQuestion, text: e.target.value })\r\n              }\r\n              className=\"text-input\"\r\n              name=\"text\"\r\n              type=\"text\"\r\n              placeholder=\"Otázka\"\r\n            />\r\n            <button\r\n              className=\"small-button button-save\"\r\n              type=\"submit\"\r\n              onClick={postEditQuestionText}\r\n            >\r\n              Uložit nové znění otázky\r\n            </button>\r\n          </form>\r\n          {error && <ErrorModal error={error} onClear={clearError} />}\r\n          <Answers_AdminView questionId={questionId} />\r\n        </Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditQuestionPage;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\nimport { Role } from \"../../utils/roles\";\r\n\r\nimport ErrorModal from '../../shared/components/Error/ErrorModal'\r\n\r\nimport \"./QuestionPage.css\";\r\n\r\nconst QuestionPage = () => {\r\n  const { sendRequest, error, clearError } = useHttp();\r\n  const auth = useContext(AuthContext);\r\n  const questionId = useParams().idOtazky;\r\n\r\n  const [loadedQuestion, setLoadedQuestion] = useState([]);\r\n  const [loadedAnswers, setLoadedAnswers] = useState([]);\r\n  const [loadedVotes, setLoadedVotes] = useState([]);\r\n\r\n  const [canVote, setCanVote] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchQuestion = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/question/${questionId}`,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        setLoadedQuestion(responseData);\r\n      } catch (err) {}\r\n    };\r\n\r\n    fetchQuestion();\r\n  }, [auth.token, questionId]);\r\n\r\n  useEffect(() => {\r\n    const fetchAnswers = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/answers-of-question/${questionId}`,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        setLoadedAnswers(responseData);\r\n      } catch (err) {}\r\n    };\r\n\r\n    fetchAnswers();\r\n  }, [auth.token, questionId]);\r\n\r\n  useEffect(() => {\r\n    const fetchVotes = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/votes-of-question/${questionId}`,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        // Finds if user already voted earlier\r\n        let foundPupilsVote = responseData.filter(\r\n          (v) => v.pupilId === auth.userId && v.questionId === questionId\r\n        );\r\n        if (foundPupilsVote.length === 0) {\r\n          setCanVote(true);\r\n        }\r\n        setLoadedVotes(responseData);\r\n      } catch (err) {}\r\n    };\r\n\r\n    fetchVotes();\r\n  }, [auth.token, questionId, canVote]);\r\n\r\n  const postVote = async (answerId) => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/pupil/add-vote`,\r\n        \"POST\",\r\n        JSON.stringify({\r\n          questionId: questionId,\r\n          answerId: answerId,\r\n          pupilId: auth.userId,\r\n        }),\r\n        {\r\n          \"content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setCanVote(false);\r\n    } catch (err) {}\r\n  };\r\n\r\n  const answerJSX = (answers) => {\r\n    return answers.map((a) => (\r\n      <div className=\"questions_page--question column\">\r\n        <div className=\"question__link\" key={a._id}>\r\n          <div className=\"row question_answers_votes\">\r\n            <div className=\"questions_page--question__text\">{a.text}</div>\r\n            {canVote && auth.role === Role.PUPIL && (\r\n              <button\r\n                className=\"small-button button-save\"\r\n                onClick={() => postVote(a._id)}\r\n              >\r\n                Hlasovat\r\n              </button>\r\n            )}\r\n            <div className=\"question_page--votes\">\r\n              {loadedVotes.filter((an) => an.answerId === a._id).length} hlasů\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"custom-page--wrapper\">\r\n      <h1 className=\"custom-page--title\">Otázka</h1>\r\n      <div className=\"column\">\r\n        <div className=\"questions_page--question__text\">\r\n          {loadedQuestion.text}\r\n        </div>\r\n        <h1 className=\"question-page--answers-title\">Odpovědi:</h1>\r\n        {loadedAnswers && answerJSX(loadedAnswers)}\r\n      </div>\r\n      {error && <ErrorModal error={error} onClear={clearError}/>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuestionPage;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { useHttp } from \"../../hooks/http-hook\";\r\n\r\nimport './TryLuckPage.css'\r\n\r\nconst TryLuckPage = () => {\r\n  const auth = useContext(AuthContext);\r\n  const { sendRequest } = useHttp();\r\n  const [canRoll, setCanRoll] = useState(false);\r\n  const [reward, setReward] = useState();\r\n\r\n  // Finds if pupil can roll (so if he hasn'n roll in last 24 hours)\r\n  useState(() => {\r\n    const fetchLastRoll = async () => {\r\n      try {\r\n        let responseData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/pupil/can-roll/${auth.userId}`,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            \"content-type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        setCanRoll(responseData.canRoll);\r\n      } catch (err) {}\r\n    };\r\n    fetchLastRoll();\r\n  }, [auth.token, auth.userId]);\r\n\r\n  const postRoll = async () => {\r\n    try {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/pupil/roll`,\r\n        \"POST\",\r\n        null,\r\n        {\r\n          \"content-type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setCanRoll(false)\r\n      setReward(responseData.text)\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"custom-page--wrapper\">\r\n      <h1 className=\"custom-page--title\">Zkus štěstí ;)</h1>\r\n      <button className=\"small-button button-save\" disabled={!canRoll} onClick={postRoll}>\r\n        Zkusit štěstí\r\n      </button>\r\n      <h2 className=\"reward\">{reward}</h2>\r\n      {!canRoll && <h2 className=\"reward\">Zkus to zase zítra</h2>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TryLuckPage;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './NavBackdrop.css';\r\n\r\nconst NavBackdrop = props => {\r\n  return ReactDOM.createPortal(\r\n    <div className=\"nav-backdrop\" onClick={props.onClick}></div>,\r\n    document.getElementById('nav-backdrop')\r\n  );\r\n};\r\n\r\nexport default NavBackdrop;","import { Fragment, useContext, useState } from \"react\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport NavBackdrop from \"./NavBackdrop\";\r\n\r\n// Contexts\r\nimport { AuthContext } from \"../../../contexts/AuthContext\";\r\n\r\n// Utils\r\nimport { Role } from \"../../../utils/roles\";\r\n\r\nimport \"./Navbar.css\";\r\n\r\nconst Navbar = () => {\r\n  const [show, setShow] = useState(false);\r\n  const auth = useContext(AuthContext);\r\n\r\n  const adminLinks = [\r\n    <NavLink\r\n      key=\"0\"\r\n      className=\"mobile_nav__link\"\r\n      to=\"/registrace-zaka\"\r\n      onClick={() => setShow(false)}\r\n    >\r\n      Registrace žáka\r\n    </NavLink>,\r\n    <NavLink\r\n      key=\"1\"\r\n      className=\"mobile_nav__link\"\r\n      to=\"/\"\r\n      onClick={() => setShow(false)}\r\n    >\r\n      Seznam žáků\r\n    </NavLink>,\r\n    <NavLink\r\n      key=\"2\"\r\n      className=\"mobile_nav__link\"\r\n      to=\"/objednavky\"\r\n      onClick={() => setShow(false)}\r\n    >\r\n      Objednávky\r\n    </NavLink>,\r\n    <NavLink\r\n      key=\"3\"\r\n      className=\"mobile_nav__link\"\r\n      to=\"/obchod\"\r\n      onClick={() => setShow(false)}\r\n    >\r\n      Obchod\r\n    </NavLink>,\r\n    <NavLink\r\n      key=\"3\"\r\n      className=\"mobile_nav__link\"\r\n      to=\"/udalosti\"\r\n      onClick={() => setShow(false)}\r\n    >\r\n      Události\r\n    </NavLink>,\r\n    <NavLink\r\n      key=\"3\"\r\n      className=\"mobile_nav__link\"\r\n      to=\"/otazky\"\r\n      onClick={() => setShow(false)}\r\n    >\r\n      Otázky\r\n    </NavLink>,\r\n  ];\r\n\r\n  const pupilsLinks = (\r\n    <Fragment>\r\n      <NavLink\r\n        className=\"mobile_nav__link\"\r\n        key=\"2\"\r\n        to=\"/\"\r\n        onClick={() => setShow(false)}\r\n      >\r\n        Profil čaroděje\r\n      </NavLink>\r\n      <NavLink\r\n        className=\"mobile_nav__link\"\r\n        key=\"3\"\r\n        to=\"/obchod\"\r\n        onClick={() => setShow(false)}\r\n      >\r\n        Obchod\r\n      </NavLink>\r\n      <NavLink\r\n        key=\"4\"\r\n        className=\"mobile_nav__link\"\r\n        to=\"/udalosti\"\r\n        onClick={() => setShow(false)}\r\n      >\r\n        Události\r\n      </NavLink>\r\n      <NavLink\r\n        key=\"3\"\r\n        className=\"mobile_nav__link\"\r\n        to=\"/otazky\"\r\n        onClick={() => setShow(false)}\r\n      >\r\n        Otázky\r\n      </NavLink>\r\n      <NavLink\r\n        key=\"3\"\r\n        className=\"mobile_nav__link\"\r\n        to=\"/stesti\"\r\n        onClick={() => setShow(false)}\r\n      >\r\n        Zkus štěstí\r\n      </NavLink>\r\n    </Fragment>\r\n  );\r\n\r\n  // No nav at all for un-auth users\r\n  if (!auth.token) return null;\r\n\r\n  return (\r\n    <aside\r\n      className={`mobile_nav--wrapper ${show ? \"mobile_nav--showed\" : \"\"}`}\r\n    >\r\n      {show && <NavBackdrop onClick={() => setShow(false)}/>}\r\n      <div\r\n        className=\"mobile_nav--show_button\"\r\n        onClick={() => setShow((show) => !show)}\r\n      >\r\n        MENU\r\n      </div>\r\n      <nav className=\"mobile_nav\">\r\n        <ul className=\"mobile_nav__links\">\r\n          {/* Non-auth nav items */}\r\n          {!auth.token && (\r\n            <NavLink\r\n              key=\"100\"\r\n              className=\"mobile_nav__link\"\r\n              to=\"/prihlaseni\"\r\n              onClick={() => setShow(false)}\r\n            >\r\n              Přihlášení\r\n            </NavLink>\r\n          )}\r\n\r\n          {/* Admins nav items */}\r\n          {auth.role === Role.ADMIN && adminLinks}\r\n\r\n          {/* Pupils nav items */}\r\n          {auth.role === Role.PUPIL && pupilsLinks}\r\n\r\n          {/* Auth nav items */}\r\n          {auth.token && (\r\n            <Link\r\n              key=\"101\"\r\n              className=\"mobile_nav__link\"\r\n              to=\"/prihlaseni\"\r\n              onClick={() => {\r\n                auth.logout();\r\n                setShow(false);\r\n              }}\r\n            >\r\n              Odhlásit se ({auth.username})\r\n            </Link>\r\n          )}\r\n        </ul>\r\n      </nav>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n// Hooks\nimport { useAuth } from \"./hooks/auth-hook\";\n\n// Contexts\nimport { AuthContext } from \"./contexts/AuthContext\";\n\n// Pages\nimport SigninPage from \"./Auth/SigninPage\";\nimport SignupAdminPage from \"./Auth/SignupAdminPage\";\nimport SignupPupilPage from \"./Admin/pages/SignupPupilPage\";\nimport PupilsPage from \"./Admin/pages/PupilsPage\";\nimport AddProductPage from \"./Admin/pages/AddProductPage\";\nimport EditProductPage from \"./Admin/pages/EditProductPage\";\nimport Market_PupilView from \"./Pupil/pages/Market_PupilView\";\nimport Market_AdminView from \"./Admin/pages/Market_AdminView\";\nimport HomePupilsPage from \"./Pupil/pages/HomePupilsPage\";\nimport OrdersToDeliverPage from \"./Admin/pages/OrdersToDeliverPage\";\nimport Events_AdminView from \"./Admin/pages/Events_AdminView\";\nimport AddEventPage from \"./Admin/pages/AddEventPage\";\nimport Events_PupilView from \"./Pupil/pages/Events_PupilView\";\nimport QuestionsPage_AdminView from \"./Admin/pages/QuestionsPage_AdminView\";\nimport AddQuestionPage from \"./Admin/pages/AddQuestionPage\";\nimport EditQuestionPage from \"./Admin/pages/EditQuestionPage\";\nimport QuestionPage from \"./shared/pages/QuestionPage\";\nimport TryLuckPage from \"./Pupil/pages/TryLuckPage\";\n\n// Components\nimport Navbar from \"./shared/components/Navbar/Navbar\";\n\n// Utils \nimport { Role } from \"./utils/roles\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const auth = useAuth();\n  return (\n    <AuthContext.Provider\n    value = {auth}\n    >\n      <div className=\"app\">\n        <Router>\n          <Navbar />\n          <Switch>\n            <Route path=\"/registrace-admina\" component={SignupAdminPage} />\n\n            {/* Shared routes */}\n            {auth.token && <Route path=\"/otazky\" component={QuestionsPage_AdminView} />}\n            {auth.token && <Route path=\"/otazka/:idOtazky\" component={QuestionPage} />}\n\n            {/* Admin routes */}\n            {auth.role === Role.ADMIN && <Route path=\"/registrace-zaka\" component={SignupPupilPage} />}\n            {auth.role === Role.ADMIN && <Route path=\"/pridat-produkt\" component={AddProductPage} />}\n            {auth.role === Role.ADMIN && <Route path=\"/editovat-produkt/:idProduktu\" component={EditProductPage} />}\n            {auth.role === Role.ADMIN && <Route path=\"/obchod\" component={Market_AdminView} />}\n            {auth.role === Role.ADMIN && <Route path=\"/objednavky\" component={OrdersToDeliverPage} />}\n            {auth.role === Role.ADMIN && <Route path=\"/udalosti\" component={Events_AdminView} />}\n            {auth.role === Role.ADMIN && <Route path=\"/pridat-udalost\" component={AddEventPage} />}\n            {auth.role === Role.ADMIN && <Route path=\"/pridat-otazku\" component={AddQuestionPage} />}\n            {auth.role === Role.ADMIN && <Route path=\"/editovat-otazku/:idOtazky\" component={EditQuestionPage} />}\n            {auth.role === Role.ADMIN && <Route path=\"/\" component={PupilsPage} />}\n\n            {/* Pupil routes */}\n            {auth.role === Role.PUPIL && <Route path=\"/obchod\" component={Market_PupilView} />}\n            {auth.role === Role.PUPIL && <Route path=\"/udalosti\" component={Events_PupilView} />}\n            {auth.role === Role.PUPIL && <Route path=\"/stesti\" component={TryLuckPage} />}\n            {auth.role === Role.PUPIL && <Route path=\"/\" component={HomePupilsPage} />}\n           \n            {/* no-Auth routes */}\n            {!auth.token && <Route path=\"/prihlaseni\" component={SigninPage} />}\n            {!auth.token && <Route path=\"/\" component={SigninPage} />}\n\n            {/* <Route path=\"/\" component={SigninPage} /> */}\n          </Switch>\n        </Router>\n      </div>\n     </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render( <\n    React.StrictMode >\n    <App / >\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}
(this["webpackJsonpbradavicaky-fe"]=this["webpackJsonpbradavicaky-fe"]||[]).push([[0],{136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var a,c=n(1),r=n.n(c),s=n(19),o=n.n(s),i=(n(77),n(9)),u=n(10),l=n(7),p=Object(c.createContext)({userId:null,username:null,name:null,surname:null,role:null,token:null,login:function(){},logout:function(){}}),d=n(4),j=n.n(d),b=n(6),h=n(8),m=(n(80),n(0)),O=function(){return Object(m.jsxs)("div",{class:"lds-default",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})},f=function(e){return o.a.createPortal(Object(m.jsx)("div",{className:"error-backdrop",onClick:e.onClick}),document.getElementById("error-backdrop"))},x=(n(82),function(e){var t=Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(f,{onClick:e.onClear}),Object(m.jsxs)("div",{className:"error-modal",children:[Object(m.jsx)("header",{className:"error-modal__header",children:Object(m.jsx)("h2",{children:"\u0160vihnout a m\xe1vnout!"})}),Object(m.jsx)("div",{className:"error-modal__content ".concat(e.contentClass),children:e.error}),Object(m.jsx)("button",{className:"error-modal__button-ok",onClick:e.onClear,children:"Zav\u0159\xedt"}),Object(m.jsx)("footer",{className:"error-modal__footer ".concat(e.footerClass),children:e.footer})]})]});return o.a.createPortal(t,document.getElementById("error-modal"))}),v=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(),s=Object(l.a)(r,2),o=s[0],i=s[1],u=Object(c.useRef)([]),p=Object(c.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c,r,s,o,l,p=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:"GET",c=p.length>2&&void 0!==p[2]?p[2]:null,r=p.length>3&&void 0!==p[3]?p[3]:{},a(!0),s=new AbortController,u.current.push(s),e.prev=6,e.next=9,fetch(t,{method:n,body:c,headers:r,signal:s.signal});case 9:return o=e.sent,e.next=12,o.json();case 12:if(l=e.sent,u.current=u.current.filter((function(e){return e!==s})),o.ok){e.next=16;break}throw new Error(l.msg);case 16:return a(!1),e.abrupt("return",l);case 20:throw e.prev=20,e.t0=e.catch(6),console.log(e.t0),i(e.t0.message),a(!1),e.t0;case 26:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(c.useEffect)((function(){return function(){u.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:n,error:o,sendRequest:p,clearError:function(){i(null)}}},k="admin",g="pupil",N=(n(83),function(){var e=Object(c.useContext)(p),t=v(),n=t.sendRequest,a=t.isLoading,r=t.error,s=t.clearError,o=Object(u.f)(),i=function(){var t=Object(b.a)(j.a.mark((function t(a){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/auth/login"),"POST",JSON.stringify({username:a.username,password:a.password}),{"Content-type":"application/json"});case 3:c=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:e.login(c._id,c.username,c.name,c.surname,c.role,c.token),c.role===g?o.push("/odmeny"):o.push("/");case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"form--wrapper column",children:[Object(m.jsx)(h.c,{initialValues:{username:"",password:""},onSubmit:i,children:Object(m.jsxs)(h.b,{className:"custom_form",children:[Object(m.jsx)(h.a,{className:"text-input",name:"username",type:"text",placeholder:"U\u017eivatelsk\xe9 jm\xe9no"}),Object(m.jsx)(h.a,{className:"text-input",name:"password",type:"password",placeholder:"Heslo"}),Object(m.jsx)("button",{className:"button-submit",type:"submit",children:"Alohomora"})]})}),r&&Object(m.jsx)(x,{error:r,onClear:s}),Object(m.jsxs)("div",{className:"spinner--wrapper",children:[" ",a&&Object(m.jsx)(O,{})]})]})}),y=function(){var e=Object(u.f)(),t=v(),n=t.sendRequest,a=t.error,c=t.clearError,r=function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/auth/register-admin"),"POST",JSON.stringify(a),{"content-type":"application/json"});case 3:e.push("/prihlaseni"),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Registrace admina"}),Object(m.jsx)(h.c,{initialValues:{username:"",name:"",surname:"",password:"",rePassword:""},onSubmit:r,children:Object(m.jsxs)(h.b,{children:[Object(m.jsx)(h.a,{name:"username",type:"text",placeholder:"U\u017eivatelsk\xe9 jm\xe9no"}),Object(m.jsx)(h.a,{name:"name",type:"text",placeholder:"Jm\xe9no"}),Object(m.jsx)(h.a,{name:"surname",type:"text",placeholder:"P\u0159\xedjmen\xed"}),Object(m.jsx)(h.a,{name:"password",type:"password",placeholder:"Heslo"}),Object(m.jsx)(h.a,{name:"rePassword",type:"password",placeholder:" Heslo znovu"}),Object(m.jsx)("button",{type:"submit",children:"Registrace"})]})}),a&&Object(m.jsx)(x,{error:a,onClear:c})]})},_=function(){var e=Object(c.useContext)(p),t=Object(u.f)(),n=Object(c.useState)(""),a=Object(l.a)(n,2),r=a[0],s=a[1],o=v(),i=o.sendRequest,d=o.error,O=o.clearError,f=function(){var n=Object(b.a)(j.a.mark((function n(a){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/register-pupil"),"POST",JSON.stringify(a),{"content-type":"application/json",Authorization:"Bearer "+e.token});case 3:c=n.sent,s(c.msg),setTimeout((function(){return t.push("/")}),1200),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"form--wrapper",children:[Object(m.jsx)(h.c,{initialValues:{username:"",name:"",surname:"",password:"",rePassword:"",college:"nebelvir"},onSubmit:f,children:Object(m.jsxs)(h.b,{className:"custom_form",children:[Object(m.jsx)(h.a,{type:"hidden"}),Object(m.jsx)(h.a,{className:"text-input",name:"username",type:"text",placeholder:"U\u017eivatelsk\xe9 jm\xe9no"}),Object(m.jsx)(h.a,{className:"text-input",name:"name",type:"text",placeholder:"Jm\xe9no"}),Object(m.jsx)(h.a,{className:"text-input",name:"surname",type:"text",placeholder:"P\u0159\xedjmen\xed"}),Object(m.jsx)(h.a,{className:"text-input",name:"password",type:"password",placeholder:"Heslo"}),Object(m.jsx)(h.a,{className:"text-input",name:"rePassword",type:"password",placeholder:" Heslo znovu"}),Object(m.jsxs)(h.a,{as:"select",name:"college",children:[Object(m.jsx)("option",{value:"nebelv\xedr",children:"Nebelv\xedr"}),Object(m.jsx)("option",{value:"mrzimor",children:"Mrzimor"}),Object(m.jsx)("option",{value:"havrasp\xe1r",children:"Havrasp\xe1r"}),Object(m.jsx)("option",{value:"zmijozel",children:"Zmijozel"})]}),Object(m.jsx)("button",{className:"button-submit",type:"submit",children:"Registrace"}),Object(m.jsx)("p",{className:"responseMsg",children:r})]})}),d&&Object(m.jsx)(x,{error:d,onClear:O})]})},w=(n(87),function(){var e=Object(c.useContext)(p),t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],r=n[1],s=v().sendRequest;Object(c.useEffect)((function(){var t=function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/pupils"),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+e.token});case 3:n=t.sent,r(n),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t(),console.log("fetchPupils()")}),[]);var o,i=function(){var t=Object(b.a)(j.a.mark((function t(n,a){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/add-points"),"PATCH",JSON.stringify({pupilsId:n,points:a}),{"Content-type":"application/json",Authorization:"Bearer "+e.token});case 2:"success"===(c=t.sent).msg&&r((function(e){return e.map((function(e){return e._id===n&&(e.points=c.points),e}))}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u=function(){var t=Object(b.a)(j.a.mark((function t(n,a){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/remove-points"),"PATCH",JSON.stringify({pupilsId:n,points:a}),{"Content-type":"application/json",Authorization:"Bearer "+e.token});case 2:"success"===(c=t.sent).msg&&r((function(e){return e.map((function(e){return e._id===n&&(e.points=c.points),e}))}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"pupils_page--wrapper",children:[Object(m.jsx)("h1",{className:"pupils_page--title",children:"\u010carod\u011bjov\xe9"}),Object(m.jsx)("ul",{className:"pupils_page--pupils",children:a&&(o=a,console.log(o),o.map((function(e){return Object(m.jsxs)("li",{className:"pupils_page--pupil",children:[Object(m.jsxs)("span",{className:"pupils_page--pupil__name",children:[e.name," ",e.surname]}),Object(m.jsxs)("div",{className:"pupils_page--pupil--points_wrapper",children:[Object(m.jsx)("button",{onClick:function(){return u(e._id,5)},className:"pupils_page--pupil__minus--button",children:"-"}),Object(m.jsx)("span",{className:"pupils_page--pupil__points",children:e.points}),Object(m.jsx)("button",{onClick:function(){return i(e._id,5)},className:"pupils_page--pupil__plus--button",children:"+"})]})]},e._id)})))})]})}),C=(n(52),function(){var e=Object(c.useContext)(p),t=v(),n=t.sendRequest,a=t.error,r=t.clearError,s=Object(u.f)(),o=function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/add-product"),"POST",JSON.stringify(a),{"content-type":"application/json",Authorization:"Bearer "+e.token});case 3:s.push("/obchod"),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"add_product--wrapper",children:[Object(m.jsx)("h1",{className:"add_product--title",children:"P\u0159id\xe1n\xed produktu"}),Object(m.jsx)(h.c,{initialValues:{title:"",photo:"",desc:"",price:"",quantity:""},onSubmit:o,children:Object(m.jsxs)(h.b,{className:"custom_form",children:[Object(m.jsx)(h.a,{className:"text-input",name:"title",type:"text",placeholder:"N\xe1zev"}),Object(m.jsx)(h.a,{className:"text-input",name:"photo",type:"text",placeholder:"Foto"}),Object(m.jsx)(h.a,{className:"text-input",name:"desc",type:"text",placeholder:"Popis"}),Object(m.jsx)(h.a,{className:"text-input",name:"price",type:"text",placeholder:"Cena"}),Object(m.jsx)(h.a,{className:"text-input",name:"quantity",type:"text",placeholder:"Po\u010det"}),Object(m.jsx)("button",{className:"button-submit",type:"submit",children:"P\u0159idat"})]})}),a&&Object(m.jsx)(x,{error:a,onClear:r})]})}),S=function(){var e,t=Object(c.useContext)(p),n=v(),a=n.sendRequest,r=n.error,s=n.clearError,o=Object(u.f)(),i=Object(c.useState)(),d=Object(l.a)(i,2),O=d[0],f=d[1],k=Object(u.g)().idProduktu;O&&(e={title:O.title,photo:O.photo,desc:O.desc,price:O.price,quantity:O.quantity}),Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/product/").concat(k),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+t.token});case 3:n=e.sent,f(n),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,k]);var g=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/edit-product/").concat(k),"PATCH",JSON.stringify(n),{"content-type":"application/json",Authorization:"Bearer "+t.token});case 3:o.push("/obchod"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"add_product--wrapper",children:[Object(m.jsx)("h1",{className:"add_product--title",children:"P\u0159id\xe1n\xed produktu"}),e&&Object(m.jsx)(h.c,{initialValues:e,onSubmit:g,children:Object(m.jsxs)(h.b,{className:"custom_form",children:[Object(m.jsx)(h.a,{className:"text-input",name:"title",type:"text",placeholder:"N\xe1zev"}),Object(m.jsx)(h.a,{className:"text-input",name:"photo",type:"text",placeholder:"Foto"}),Object(m.jsx)(h.a,{className:"text-input",name:"desc",type:"text",placeholder:"Popis"}),Object(m.jsx)(h.a,{className:"text-input",name:"price",type:"text",placeholder:"Cena"}),Object(m.jsx)(h.a,{className:"text-input",name:"quantity",type:"text",placeholder:"Po\u010det"}),Object(m.jsx)("button",{className:"button-submit",type:"submit",children:"Ulo\u017eit"})]})}),r&&Object(m.jsx)(x,{error:r,onClear:s})]})},q=(n(88),function(e){var t=v().sendRequest,n=Object(c.useContext)(p),a=Object(u.f)(),r=function(){var e=Object(b.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Pos\xedl\xe1\xe1m"),e.next=3,t("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/pupil/buy-product/").concat(c),"POST",null,{"Content-type":"application/json",Authorization:"Bearer "+n.token});case 3:e.sent,console.log("Vr\xe1\xe1tit na homepage"),a.push("/");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("li",{className:"product--wrapper",children:[Object(m.jsx)("div",{className:"product--title",children:e.title}),Object(m.jsx)("div",{className:"product_img--wrapper",children:Object(m.jsx)("img",{src:e.photo,alt:e.title})}),Object(m.jsxs)("div",{className:"product--quantity",children:["Ve sklepen\xed: ",Object(m.jsx)("span",{className:"bold",children:e.quantity})," ks"]}),Object(m.jsxs)("div",{className:"product--price",children:["Cena: ",Object(m.jsx)("span",{className:"bold",children:e.price})]}),Object(m.jsx)("div",{className:"product_buy--wrapper",children:Object(m.jsx)("button",{className:"button-submit",disabled:e.notEnoughMoney,onClick:function(){return r(e._id.toString())},children:"Akcio!"})})]},e._id)}),z=(n(89),function(e){var t,n=Object(c.useContext)(p),a=v().sendRequest,r=Object(c.useState)([]),s=Object(l.a)(r,2),o=s[0],i=s[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/pupil/avaible-products"),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+n.token});case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(m.jsx)("ul",{className:"products_page--pupils",children:o&&(t=o,t.map((function(t){return Object(m.jsx)(q,{_id:t._id,title:t.title,photo:t.photo,quantity:t.quantity,price:t.price,notEnoughMoney:e.points<t.price},t._id)})))})}),E=(n(90),function(){var e=Object(c.useContext)(p),t=v().sendRequest,n=Object(c.useState)(0),a=Object(l.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){var n=function(){var n=Object(b.a)(j.a.mark((function n(){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/pupil/points/").concat(e.username),"GET",null,{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 2:a=n.sent,s(a.points);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e.username]),Object(m.jsxs)("div",{className:"custom-page--wrapper",children:[Object(m.jsx)("h1",{className:"custom-page--title",children:"Dostupn\xe9 odm\u011bny"}),Object(m.jsxs)("p",{className:"pupils_market--points",children:["M\xe1te ",r," bradavi\u010d\xe1k\u016f"]}),Object(m.jsx)(z,{points:r})]})}),P=(n(91),function(){var e,t=v().sendRequest,n=Object(c.useContext)(p),a=Object(c.useState)([]),r=Object(l.a)(a,2),s=r[0],o=r[1],u=function(){var e=Object(b.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/disable-product/").concat(a),"PATCH",null,{"Content-type":"application/json",Authorization:"Bearer "+n.token});case 2:o((function(e){return e.filter((function(e){return e._id!==a}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/products"),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+n.token});case 2:a=e.sent,o(a.filter((function(e){return!e.isHidden})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(m.jsxs)("div",{className:"custom-page--wrapper",children:[Object(m.jsx)("h1",{className:"custom-page--title",children:"Obchod"}),Object(m.jsx)(i.b,{to:"pridat-produkt",className:"custom-page--create_link",children:"P\u0159idat produkt"}),Object(m.jsx)("ul",{className:"products_page--pupils",children:s&&(e=s,e.map((function(e){return Object(m.jsxs)("li",{className:"product--wrapper",children:[Object(m.jsx)("div",{className:"product--title",children:e.title}),Object(m.jsx)("div",{className:"product_img--wrapper",children:Object(m.jsx)("img",{src:e.photo,alt:e.title})}),Object(m.jsxs)("div",{className:"product--quantity",children:["Ve sklepen\xed: ",Object(m.jsx)("span",{className:"bold",children:e.quantity})," ks"]}),Object(m.jsxs)("div",{className:"product--price",children:["Cena: ",Object(m.jsx)("span",{className:"bold",children:e.price})]}),Object(m.jsxs)("div",{className:"product_buttons--wrapper",children:[Object(m.jsx)(i.b,{to:"/editovat-produkt/".concat(e._id),className:"small-button button-edit",children:" Upravit"}),Object(m.jsx)("button",{onClick:function(){return u(e._id)},className:"small-button button-delete",children:" Odstranit"})]})]},e._id)})))})]})}),A=function(e){v().sendRequest,Object(c.useContext)(p);return Object(m.jsxs)("li",{className:"product--wrapper",children:[Object(m.jsx)("div",{className:"product--title",children:e.title}),Object(m.jsx)("div",{className:"product_img--wrapper",children:Object(m.jsx)("img",{src:e.photo,alt:e.title})}),Object(m.jsx)("div",{className:"product_buy--wrapper"})]},e._id+Math.random())},T=function(){var e,t=Object(c.useContext)(p),n=v(),a=n.sendRequest,r=n.isLoading,s=Object(c.useState)([]),o=Object(l.a)(s,2),i=o[0],u=o[1];return Object(c.useEffect)((function(){if(t.token){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/pupil/undelivered-orders/").concat(t.userId),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+t.token});case 2:n=e.sent,u(n.map((function(e){return e.productId})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[t.userId,t.token]),Object(m.jsxs)("ul",{className:"products_page--pupils row",children:[i&&(e=i,e.map((function(e){return Object(m.jsx)(A,{_id:e._id,title:e.title,photo:e.photo,quantity:e.quantity,price:e.price},e._id+Math.random())}))),r&&Object(m.jsx)(O,{})]})},I=function(e){v().sendRequest,Object(c.useContext)(p);return Object(m.jsxs)("li",{className:"product--wrapper",children:[Object(m.jsx)("div",{className:"product--title",children:e.title}),Object(m.jsx)("div",{className:"product_img--wrapper",children:Object(m.jsx)("img",{src:e.photo,alt:e.title})}),Object(m.jsx)("div",{className:"product_buy--wrapper"})]},e._id+Math.random())},B=function(){var e,t=Object(c.useContext)(p),n=v(),a=n.sendRequest,r=n.isLoading,s=Object(c.useState)([]),o=Object(l.a)(s,2),i=o[0],u=o[1];return Object(c.useEffect)((function(){if(t.token){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/pupil/delivered-orders/").concat(t.userId),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+t.token});case 2:n=e.sent,u(n.map((function(e){return e.productId})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[t.userId,t.token]),Object(m.jsxs)("ul",{className:"products_page--pupils row",children:[i&&(e=i,e.map((function(e){return Object(m.jsx)(I,{_id:e._id,title:e.title,photo:e.photo,quantity:e.quantity,price:e.price},e._id+Math.random())}))),r&&Object(m.jsx)(O,{})]})},R=function(){return Object(m.jsxs)("div",{className:"custom-page--wrapper",children:[Object(m.jsx)("h1",{className:"custom-page--title",children:"\u010cek\xe1\u0161 sovu s:"}),Object(m.jsx)(T,{}),Object(m.jsx)("h1",{className:"custom-page--title",children:"Sova doru\u010dila:"}),Object(m.jsx)(B,{})]})},D=n(30),G=n.n(D),J=(n(92),function(){var e=v().sendRequest,t=Object(c.useContext)(p),n=Object(c.useState)([]),a=Object(l.a)(n,2),r=a[0],s=a[1];Object(c.useEffect)((function(){var n=function(){var n=Object(b.a)(j.a.mark((function n(){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/undelivered-orders"),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+t.token});case 3:a=n.sent,s(a),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}),[]);var o,i=function(){var n=Object(b.a)(j.a.mark((function n(a){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/deliver-order/").concat(a),"PATCH",null,{"Content-type":"application/json",Authorization:"Bearer "+t.token});case 3:n.sent,s((function(e){return e.filter((function(e){return e._id!==a}))})),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"custom-page--wrapper",children:[Object(m.jsx)("h1",{className:"custom-page--title",children:"Objedn\xe1vky"}),Object(m.jsx)("ul",{className:"orders_page--pupils",children:r&&(o=r,o.map((function(e){return Object(m.jsxs)("li",{className:"order--wrapper",children:[Object(m.jsxs)("div",{className:"order_pupils-info--wrapper",children:[Object(m.jsxs)("div",{className:"order--pupils_name",children:[e.pupilId.name," ",e.pupilId.surname]}),Object(m.jsxs)("p",{className:"order--pupils_username",children:["(",e.pupilId.username,")"]}),Object(m.jsx)("p",{children:Object(m.jsx)("i",{children:"objednal/a:"})}),Object(m.jsx)("p",{children:Object(m.jsx)("i",{children:G()(e.orderedAt).format("DD. MM. YYYY")})})]}),Object(m.jsxs)("div",{className:"order_product-info--wrapper",children:[Object(m.jsx)("p",{className:"order_product--name",children:e.productId.title}),Object(m.jsx)("div",{className:"order_img--wrapper",children:Object(m.jsx)("img",{src:e.productId.photo,alt:e.productId.title})})]}),Object(m.jsx)("div",{className:"order_buttons--wrapper",children:Object(m.jsxs)("button",{className:"button-submit",onClick:function(){return i(e._id)},children:[" ","Porvrdit doru\u010den\xed"]})})]},e._id)})))})]})}),M=(n(93),function(){var e=Object(c.useContext)(p),t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],r=n[1],s=v().sendRequest;Object(c.useEffect)((function(){var t=function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/events"),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+e.token});case 3:n=t.sent,r(n),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var o,u=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/event/").concat(n),"DELETE",null,{"content-type":"application/json",Authorization:"Bearer "+e.token});case 3:t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:r(a.filter((function(e){return e._id!==n})));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"custom-page--wrapper",children:[Object(m.jsx)("h1",{className:"custom-page--title",children:"Ud\xe1losti"}),Object(m.jsx)(i.b,{className:"custom-page--create_link",to:"/pridat-udalost",children:"P\u0159idat ud\xe1lost"}),Object(m.jsx)("ul",{className:"custom-page--events",children:a&&(o=a,console.log(o),o.map((function(e){return Object(m.jsxs)("li",{className:"events_page--event column",children:[Object(m.jsxs)("div",{className:"events_page--event_upper-wrapper column",children:[Object(m.jsx)("div",{className:"events_page--event__title",children:e.title}),Object(m.jsx)("div",{className:"events_page--event__date",children:Object(m.jsx)("i",{children:G()(e.date).format("DD. MM. YYYY")})})]}),Object(m.jsx)("div",{className:"events_page--event__desc",children:e.description}),Object(m.jsx)("div",{className:"events_page--event__buttons",children:Object(m.jsx)("button",{className:"small-button button-delete",onClick:function(){return u(e._id)},children:"Odstranit"})})]},e._id)})))})]})}),U=n(61),H=n.n(U),L=(n(94),n(69));Object(U.registerLocale)("cs",L.a);var Y=function(){var e=Object(c.useContext)(p),t=v(),n=t.sendRequest,a=t.error,r=t.clearError,s=Object(u.f)(),o=Object(c.useState)(""),i=Object(l.a)(o,2),d=i[0],h=i[1],O=Object(c.useState)(""),f=Object(l.a)(O,2),k=f[0],g=f[1],N=Object(c.useState)(new Date),y=Object(l.a)(N,2),_=y[0],w=y[1],C=function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,n("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/add-event"),"POST",JSON.stringify({title:d,description:k,date:_}),{"content-type":"application/json",Authorization:"Bearer "+e.token});case 4:s.push("/udalosti"),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"add_product--wrapper",children:[Object(m.jsx)("h1",{className:"add_product--title",children:"P\u0159id\xe1n\xed ud\xe1losti"}),Object(m.jsxs)("form",{className:"column",onSubmit:C,children:[Object(m.jsx)("input",{value:d,onChange:function(e){return h(e.target.value)},className:"text-input",name:"title",type:"text",placeholder:"N\xe1zev"}),Object(m.jsx)("input",{value:k,onChange:function(e){return g(e.target.value)},className:"text-input",name:"description",type:"text",placeholder:"Popis"}),Object(m.jsx)(H.a,{className:"datePicker",selected:_,onChange:function(e){return w(e)},locale:"cs"}),Object(m.jsx)("button",{className:"button-submit",type:"submit",children:"Odeslat"})]}),a&&Object(m.jsx)(x,{error:a,onClear:r})]})},F=function(){var e=Object(c.useContext)(p),t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],r=n[1],s=v().sendRequest;Object(c.useEffect)((function(){var t=function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/events"),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+e.token});case 3:n=t.sent,r(n),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var o;return Object(m.jsxs)("div",{className:"custom-page--wrapper",children:[Object(m.jsx)("h1",{className:"custom-page--title",children:"Ud\xe1losti"}),Object(m.jsx)("ul",{className:"custom-page--events",children:a&&(o=a,console.log(o),o.map((function(e){return Object(m.jsxs)("li",{className:"events_page--event column",children:[Object(m.jsxs)("div",{className:"events_page--event_upper-wrapper column",children:[Object(m.jsx)("div",{className:"events_page--event__title",children:e.title}),Object(m.jsx)("div",{className:"events_page--event__date",children:Object(m.jsx)("i",{children:G()(e.date).format("DD. MM. YYYY")})})]}),Object(m.jsx)("div",{className:"events_page--event__desc",children:e.description})]},e._id)})))})]})},V=(n(136),function(){var e=v().sendRequest,t=Object(c.useContext)(p),n=Object(c.useState)(),a=Object(l.a)(n,2),r=a[0],s=a[1];Object(c.useEffect)((function(){var n=function(){var n=Object(b.a)(j.a.mark((function n(){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/questions"),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+t.token});case 2:a=n.sent,s(a);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t.token]);var o;return Object(m.jsxs)("div",{className:"custom-page--wrapper",children:[Object(m.jsx)("h1",{className:"custom-page--title",children:"Ot\xe1zky"}),t.role===k&&Object(m.jsx)(i.b,{className:"custom-page--create_link",to:"/pridat-otazku",children:"P\u0159idat ot\xe1zku"}),r&&(o=r,o.map((function(e){return Object(m.jsxs)("div",{className:"questions_page--question column",children:[Object(m.jsx)(i.b,{className:"question__link",to:"/otazka/".concat(e._id),children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"questions_page--question__text",children:e.text})})},e._id),t.role===k&&Object(m.jsx)(i.b,{className:"small-button button-edit",to:"/editovat-otazku/".concat(e._id),children:"Upravit"})]})})))]})}),W=function(){var e=Object(c.useContext)(p),t=v(),n=t.sendRequest,a=t.error,r=t.clearError,s=Object(u.f)(),o=Object(c.useState)(""),i=Object(l.a)(o,2),d=i[0],h=i[1],O=function(){var t=Object(b.a)(j.a.mark((function t(a){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,n("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/add-question"),"POST",JSON.stringify({text:d}),{"content-type":"application/json",Authorization:"Bearer "+e.token});case 4:c=t.sent,s.push("/editovat-otazku/"+c.question._id),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"add_product--wrapper",children:[Object(m.jsx)("h1",{className:"add_product--title",children:"Polo\u017een\xed ot\xe1zky"}),Object(m.jsxs)("form",{className:"column",onSubmit:O,children:[Object(m.jsx)("input",{value:d,onChange:function(e){return h(e.target.value)},className:"text-input",name:"text",type:"text",placeholder:"Ot\xe1zka"}),Object(m.jsx)("button",{className:"button-submit",type:"submit",children:"Odeslat"})]}),a&&Object(m.jsx)(x,{error:a,onClear:r})]})},Z=n(62),$=n(70),K=function(e){var t=e.questionId,n=e.addAnswerLocal,a=(e.deleteAnswerLocal,v()),r=a.sendRequest,s=a.error,o=a.clearError,i=Object(c.useContext)(p),u=Object(c.useState)(""),d=Object(l.a)(u,2),h=d[0],O=d[1],f=function(){var e=Object(b.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/create-answer"),"POST",JSON.stringify({questionId:t,text:h}),{"Content-type":"application/json",Authorization:"Bearer "+i.token});case 3:a=e.sent,O(""),n(a.answer),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"column",children:[Object(m.jsx)("input",{value:h,onChange:function(e){return O(e.target.value)},className:"text-input",name:"text",type:"text",placeholder:"Odpov\u011b\u010f"}),Object(m.jsx)("button",{className:"small-button button-save",type:"submit",onClick:f,children:"Ulo\u017eit odpov\u011b\u010f"})]}),s&&Object(m.jsx)(x,{error:s,onClear:o})]})},Q=function(e){var t=e.questionId,n=v().sendRequest,a=Object(c.useContext)(p),r=Object(c.useState)([]),s=Object(l.a)(r,2),o=s[0],i=s[1];Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/answers-of-question/").concat(t),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+a.token});case 3:c=e.sent,i(c),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[a.token,t]);var u,d=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/answer/").concat(t),"DELETE",null,{"Content-type":"application/json",Authorization:"Bearer "+a.token});case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:i((function(e){return e.filter((function(e){return e._id!==t}))}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"column",children:[Object(m.jsx)("h2",{className:"edit-page--answers_title",children:"Odpov\u011bdi na ot\xe1zku"}),o&&(u=o,u.map((function(e){return Object(m.jsx)("div",{className:"questions_page--question column",children:Object(m.jsx)("div",{className:"question__link",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"questions_page--question__text",children:e.text}),Object(m.jsx)("button",{className:"small-button button-delete",onClick:function(){return d(e._id)},children:"Odebrat"})]})},e._id)})}))),Object(m.jsx)("h3",{className:"edit-page--answers_title",type:"submit",children:"Nov\xe1 odpov\u011b\u010f"}),Object(m.jsx)(K,{questionId:t,addAnswerLocal:function(e){i((function(t){var n=Object($.a)(t);return n.push(e),n}))}})]})},X=function(){var e=Object(u.g)().idOtazky,t=v(),n=t.sendRequest,a=t.error,r=t.clearError,s=Object(c.useContext)(p),o=Object(c.useState)(),i=Object(l.a)(o,2),d=i[0],h=i[1];Object(c.useEffect)((function(){var t=function(){var t=Object(b.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/question/").concat(e),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+s.token});case 2:a=t.sent,h(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[s.token]);var O=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/admin/edit-question/").concat(e),"PATCH",JSON.stringify({text:d.text}),{"Content-type":"application/json",Authorization:"Bearer "+s.token});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"add_product--wrapper",children:[Object(m.jsx)("h1",{className:"add_product--title",children:"Editace ot\xe1zky"}),d&&Object(m.jsxs)(c.Fragment,{children:[Object(m.jsxs)("form",{className:"column",onSubmit:function(e){e.preventDefault()},children:[Object(m.jsx)("input",{value:d.text,onChange:function(e){return h(Object(Z.a)(Object(Z.a)({},d),{},{text:e.target.value}))},className:"text-input",name:"text",type:"text",placeholder:"Ot\xe1zka"}),Object(m.jsx)("button",{className:"small-button button-save",type:"submit",onClick:O,children:"Ulo\u017eit nov\xe9 zn\u011bn\xed ot\xe1zky"})]}),a&&Object(m.jsx)(x,{error:a,onClear:r}),Object(m.jsx)(Q,{questionId:e})]})]})},ee=(n(137),function(){var e=v(),t=e.sendRequest,n=e.error,a=e.clearError,r=Object(c.useContext)(p),s=Object(u.g)().idOtazky,o=Object(c.useState)([]),i=Object(l.a)(o,2),d=i[0],h=i[1],O=Object(c.useState)([]),f=Object(l.a)(O,2),k=f[0],N=f[1],y=Object(c.useState)([]),_=Object(l.a)(y,2),w=_[0],C=_[1],S=Object(c.useState)(!1),q=Object(l.a)(S,2),z=q[0],E=q[1];Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/question/").concat(s),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+r.token});case 3:n=e.sent,h(n),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[r.token,s]),Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/answers-of-question/").concat(s),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+r.token});case 3:n=e.sent,N(n),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[r.token,s]),Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/votes-of-question/").concat(s),"GET",null,{"Content-type":"application/json",Authorization:"Bearer "+r.token});case 3:n=e.sent,0===n.filter((function(e){return e.pupilId===r.userId&&e.questionId===s})).length&&E(!0),C(n),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[r.token,s,z]);var P,A=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/pupil/add-vote"),"POST",JSON.stringify({questionId:s,answerId:n,pupilId:r.userId}),{"content-type":"application/json",Authorization:"Bearer "+r.token});case 3:E(!1),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"custom-page--wrapper",children:[Object(m.jsx)("h1",{className:"custom-page--title",children:"Ot\xe1zka"}),Object(m.jsxs)("div",{className:"column",children:[Object(m.jsx)("div",{className:"questions_page--question__text",children:d.text}),Object(m.jsx)("h1",{className:"question-page--answers-title",children:"Odpov\u011bdi:"}),k&&(P=k,P.map((function(e){return Object(m.jsx)("div",{className:"questions_page--question column",children:Object(m.jsx)("div",{className:"question__link",children:Object(m.jsxs)("div",{className:"row question_answers_votes",children:[Object(m.jsx)("div",{className:"questions_page--question__text",children:e.text}),z&&r.role===g&&Object(m.jsx)("button",{className:"small-button button-save",onClick:function(){return A(e._id)},children:"Hlasovat"}),Object(m.jsxs)("div",{className:"question_page--votes",children:[w.filter((function(t){return t.answerId===e._id})).length," hlas\u016f"]})]})},e._id)})})))]}),n&&Object(m.jsx)(x,{error:n,onClear:a})]})}),te=(n(138),function(){var e=Object(c.useContext)(p),t=v().sendRequest,n=Object(c.useState)(!1),a=Object(l.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(),i=Object(l.a)(o,2),u=i[0],d=i[1];Object(c.useState)((function(){var n=function(){var n=Object(b.a)(j.a.mark((function n(){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/pupil/can-roll/").concat(e.userId),"GET",null,{"content-type":"application/json",Authorization:"Bearer "+e.token});case 3:a=n.sent,s(a.canRoll),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}),[e.token,e.userId]);var h=function(){var n=Object(b.a)(j.a.mark((function n(){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t("".concat("https://hardcore-babbage-0e96ce.netlify.app","/api/pupil/roll"),"POST",null,{"content-type":"application/json",Authorization:"Bearer "+e.token});case 3:a=n.sent,s(!1),d(a.text),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"custom-page--wrapper",children:[Object(m.jsx)("h1",{className:"custom-page--title",children:"Zkus \u0161t\u011bst\xed ;)"}),Object(m.jsx)("button",{className:"small-button button-save",disabled:!r,onClick:h,children:"Zkusit \u0161t\u011bst\xed"}),Object(m.jsx)("h2",{className:"reward",children:u}),!r&&Object(m.jsx)("h2",{className:"reward",children:"Zkus to zase z\xedtra"})]})}),ne=(n(139),function(e){return o.a.createPortal(Object(m.jsx)("div",{className:"nav-backdrop",onClick:e.onClick}),document.getElementById("nav-backdrop"))}),ae=(n(140),function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(p),s=[Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/registrace-zaka",onClick:function(){return a(!1)},children:"Registrace \u017e\xe1ka"},"0"),Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/",onClick:function(){return a(!1)},children:"Seznam \u017e\xe1k\u016f"},"1"),Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/objednavky",onClick:function(){return a(!1)},children:"Objedn\xe1vky"},"2"),Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/obchod",onClick:function(){return a(!1)},children:"Obchod"},"3"),Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/udalosti",onClick:function(){return a(!1)},children:"Ud\xe1losti"},"3"),Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/otazky",onClick:function(){return a(!1)},children:"Ot\xe1zky"},"3")],o=Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/",onClick:function(){return a(!1)},children:"Profil \u010darod\u011bje"},"2"),Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/obchod",onClick:function(){return a(!1)},children:"Obchod"},"3"),Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/udalosti",onClick:function(){return a(!1)},children:"Ud\xe1losti"},"4"),Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/otazky",onClick:function(){return a(!1)},children:"Ot\xe1zky"},"3"),Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/stesti",onClick:function(){return a(!1)},children:"Zkus \u0161t\u011bst\xed"},"3")]});return r.token?Object(m.jsxs)("aside",{className:"mobile_nav--wrapper ".concat(n?"mobile_nav--showed":""),children:[n&&Object(m.jsx)(ne,{onClick:function(){return a(!1)}}),Object(m.jsx)("div",{className:"mobile_nav--show_button",onClick:function(){return a((function(e){return!e}))},children:"MENU"}),Object(m.jsx)("nav",{className:"mobile_nav",children:Object(m.jsxs)("ul",{className:"mobile_nav__links",children:[!r.token&&Object(m.jsx)(i.c,{className:"mobile_nav__link",to:"/prihlaseni",onClick:function(){return a(!1)},children:"P\u0159ihl\xe1\u0161en\xed"},"100"),r.role===k&&s,r.role===g&&o,r.token&&Object(m.jsxs)(i.b,{className:"mobile_nav__link",to:"/prihlaseni",onClick:function(){r.logout(),a(!1)},children:["Odhl\xe1sit se (",r.username,")"]},"101")]})})]}):null});n(141);var ce=function(){var e=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(),o=Object(l.a)(s,2),i=o[0],u=o[1],p=Object(c.useState)(),d=Object(l.a)(p,2),j=d[0],b=d[1],h=Object(c.useState)(),m=Object(l.a)(h,2),O=m[0],f=m[1],x=Object(c.useState)(),v=Object(l.a)(x,2),k=v[0],g=v[1],N=Object(c.useState)(),y=Object(l.a)(N,2),_=y[0],w=y[1],C=Object(c.useState)(),S=Object(l.a)(C,2),q=S[0],z=S[1],E=Object(c.useCallback)((function(e,t,n,a,c,s,o){r(e),u(t),b(n),f(a),g(c),w(s);var i=o||new Date((new Date).getTime()+36e6);z(i),localStorage.setItem("userData",JSON.stringify({userId:e,username:t,name:n,surname:a,role:c,token:s,expiration:i.toISOString()}))}),[]),P=Object(c.useCallback)((function(){r(null),u(null),b(null),f(null),g(null),w(null),z(null),localStorage.removeItem("userData")}),[]);return Object(c.useEffect)((function(){if(_&&q){var e=q.getTime()-(new Date).getTime();a=setTimeout(P,e)}else clearTimeout(a)}),[_,P,q]),Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&E(e.userId,e.username,e.name,e.surname,e.role,e.token,new Date(e.expiration))}),[E]),{userId:n,username:i,name:j,surname:O,role:k,token:_,login:E,logout:P}}();return Object(m.jsx)(p.Provider,{value:e,children:Object(m.jsx)("div",{className:"app",children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)(ae,{}),Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{path:"/registrace-admina",component:y}),e.token&&Object(m.jsx)(u.a,{path:"/otazky",component:V}),e.token&&Object(m.jsx)(u.a,{path:"/otazka/:idOtazky",component:ee}),e.role===k&&Object(m.jsx)(u.a,{path:"/registrace-zaka",component:_}),e.role===k&&Object(m.jsx)(u.a,{path:"/pridat-produkt",component:C}),e.role===k&&Object(m.jsx)(u.a,{path:"/editovat-produkt/:idProduktu",component:S}),e.role===k&&Object(m.jsx)(u.a,{path:"/obchod",component:P}),e.role===k&&Object(m.jsx)(u.a,{path:"/objednavky",component:J}),e.role===k&&Object(m.jsx)(u.a,{path:"/udalosti",component:M}),e.role===k&&Object(m.jsx)(u.a,{path:"/pridat-udalost",component:Y}),e.role===k&&Object(m.jsx)(u.a,{path:"/pridat-otazku",component:W}),e.role===k&&Object(m.jsx)(u.a,{path:"/editovat-otazku/:idOtazky",component:X}),e.role===k&&Object(m.jsx)(u.a,{path:"/",component:w}),e.role===g&&Object(m.jsx)(u.a,{path:"/obchod",component:E}),e.role===g&&Object(m.jsx)(u.a,{path:"/udalosti",component:F}),e.role===g&&Object(m.jsx)(u.a,{path:"/stesti",component:te}),e.role===g&&Object(m.jsx)(u.a,{path:"/",component:R}),!e.token&&Object(m.jsx)(u.a,{path:"/prihlaseni",component:N}),!e.token&&Object(m.jsx)(u.a,{path:"/",component:N})]})]})})})},re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,151)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(ce,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");re?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):se(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):se(t,e)}))}}(),oe()},52:function(e,t,n){},77:function(e,t,n){},80:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){}},[[143,1,2]]]);
//# sourceMappingURL=main.f3b32472.chunk.js.map